<!DOCTYPE html>
<!-- saved from url=(0031)https://www.heropy.dev/p/HZaKIE -->
<html lang="ko" class="dark" style="--color--highlight: #eb0000; --color--highlight--rgb: 235, 0, 0;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>
    .utterances {
      position: relative;
      box-sizing: border-box;
      width: 100%;
      max-width: 760px;
      margin-left: auto;
      margin-right: auto;
    }
    .utterances-frame {
      color-scheme: light;
      position: absolute;
      left: 0;
      right: 0;
      width: 1px;
      min-width: 100%;
      max-width: 100%;
      height: 100%;
      border: 0;
    }
  </style>
		<!-- Google tag (gtag.js) -->
		<script async="" src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/js"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-LN1R194MK8');
		</script>

		
		<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
		<meta name="robots" content="max-snippet:-1, max-image-preview:standard">		
		<meta name="theme-color" content="#e96900">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta name="google-site-verification" content="_5dmQvn5CW8AfaHynpuandgsT2lDPpUhxjnyJu2pS9M">
		<meta name="naver-site-verification" content="d9bda03d12a443870e39a7169b3686e83ab867af">

		<link rel="icon" href="https://www.heropy.dev/favicon.ico" type="image/x-icon">
		<link rel="icon" href="https://www.heropy.dev/favicon.png">
		<link rel="apple-touch-icon" href="https://www.heropy.dev/favicon.png">
		
		<link rel="preload" as="style" crossorigin="" href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/pretendardvariable-dynamic-subset.min.css">
		<link rel="stylesheet" crossorigin="" href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/pretendardvariable-dynamic-subset.min.css">
		<link rel="stylesheet" href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/css">
		<link rel="stylesheet" href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/css2">
		
		<script>window.global = window;</script>
		
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/0.OJrYWN7d.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/TheHeader.PIrp2RZL.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/10.B3tM80xx.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/index.Mwy1ZbUt.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/TheLike.Bzs1C1gL.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/TheLoader.CSpqUwbS.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/TheShare.D5cFnMdf.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/TheAnalytics.D6VXVZm1.css" rel="stylesheet">
		<link href="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/TheComment.CelgthV4.css" rel="stylesheet"><title>TanStack Query(React Query) 핵심 정리 | HEROPY.DEV</title><link rel="canonical" href="https://www.heropy.dev/p/HZaKIE"><meta name="description" content="TanStack Query는 서버로부터 데이터 가져오기, 데이터 캐싱, 캐시 제어 등 데이터를 쉽고 효율적으로 관리할 수 있는 라이브러리로, React Query라는 이름으로 시작했지만, v4부터 Vue나 Svelte 등의 다른 프레임워크에서도 활용할 수 있도록 기능이 확장되며 TanStack Query라는 이름으로 변경되었습니다."><meta name="author" content="ParkYoungWoong"><meta name="keywords" content="TanStack Query, React Query, React"><meta property="og:title" content="TanStack Query(React Query) 핵심 정리"><meta property="og:type" content="article"><meta property="og:image" content="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/main.jpg"><meta property="og:url" content="https://www.heropy.dev/p/HZaKIE"><meta property="og:description" content="TanStack Query는 서버로부터 데이터 가져오기, 데이터 캐싱, 캐시 제어 등 데이터를 쉽고 효율적으로 관리할 수 있는 라이브러리로, React Query라는 이름으로 시작했지만, v4부터 Vue나 Svelte 등의 다른 프레임워크에서도 활용할 수 있도록 기능이 확장되며 TanStack Query라는 이름으로 변경되었습니다."><meta property="og:site_name" content="HEROPY.DEV"><meta property="og:locale" content="ko_KR"><meta property="article:published_time" content="2024-07-07T00:00:00.000Z"> <meta property="article:modified_time" content="2024-11-27T00:00:00.000Z"> <meta property="article:author" content="ParkYoungWoong"> <meta property="article:tag" content="TanStack Query, React Query, React"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@HEROPY"><meta name="twitter:title" content="TanStack Query(React Query) 핵심 정리"><meta name="twitter:description" content="TanStack Query는 서버로부터 데이터 가져오기, 데이터 캐싱, 캐시 제어 등 데이터를 쉽고 효율적으로 관리할 수 있는 라이브러리로, React Query라는 이름으로 시작했지만, v4부터 Vue나 Svelte 등의 다른 프레임워크에서도 활용할 수 있도록 기능이 확장되며 TanStack Query라는 이름으로 변경되었습니다."><meta name="twitter:image" content="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/main.jpg"><meta name="twitter:url" content="https://www.heropy.dev/p/HZaKIE"><!-- HTML_TAG_START --><!-- HTML_TAG_END -->
	<link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/nodes/0.C_q5lOk1.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/CbxYNBER.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BzguAzHL.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/CDDPjg-y.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/ezo0akyF.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/B5eLl49e.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/vcSNLBTf.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/DLgqtnI-.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/Brwa5W2_.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/nodes/1.b4lZoXQY.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/CFEQM4dV.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/CLYEOhfW.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/nodes/2.Dhwz9frS.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BqnjS9hs.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/Dsp2OyN0.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/Bfm9CHJ1.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BAAfsOux.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/D4oWEgnN.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/CuhICDP7.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/HG4zAgKA.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BZwvlIsL.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/nodes/4.DdMk2Jsj.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BaFSytKu.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/Mut3je5c.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/nodes/5.vB-10qfO.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/nodes/10.B92wvDFz.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BblN83Pt.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/BtAyTs2W.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/DMregHEG.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/C6cdoHcW.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/mI21JPOI.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/B2tRSkp8.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/24bOL1p5.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/R5HsH-u5.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/CiyX2VjP.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/Cnz2w9Xq.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/xscInKx_.js"><script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "TanStack Query(React Query) 핵심 정리",
  "image": [
    "https://www.heropy.dev/postAssets/HZaKIE/main.jpg"
  ],
  "author": {
    "@type": "Person",
    "name": "ParkYoungWoong"
  },
  "publisher": {
    "@type": "Organization",
    "name": "HEROPY",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.heropy.dev/favicon.png"
    }
  },
  "datePublished": "2024-07-07T00:00:00.000Z",
  "dateModified": "2024-11-27T00:00:00.000Z",
  "description": "TanStack Query는 서버로부터 데이터 가져오기, 데이터 캐싱, 캐시 제어 등 데이터를 쉽고 효율적으로 관리할 수 있는 라이브러리로, React Query라는 이름으로 시작했지만, v4부터 Vue나 Svelte 등의 다른 프레임워크에서도 활용할 수 있도록 기능이 확장되며 TanStack Query라는 이름으로 변경되었습니다.",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.heropy.dev/p/HZaKIE"
  }
}</script><link rel="modulepreload" as="script" crossorigin="" href="https://www.heropy.dev/_app/immutable/chunks/27t3jw9f.js"></head>
	<body data-sveltekit-preload-data="hover" style="overflow: visible;">
		<div style="display: contents"><header class="svelte-bq32e3" style=""><div class="inner"><div class="--left"><a href="https://www.heropy.dev/" class="logo"><div class="the-logo" data-svelte-h="svelte-1x021nl"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" width="500" height="500" class="svelte-rxmae4"><path d="M0 0 C1.1653125 0.51175781 2.330625 1.02351562 3.53125 1.55078125 C17.02947063 7.70628126 29.46864547 16.11696722 42 24 C43.47624546 24.91847851 44.95275891 25.83652662 46.4296875 26.75390625 C53.33369811 31.07411305 59.8016606 35.71348243 66 41 C66.83144531 41.68578125 67.66289062 42.3715625 68.51953125 43.078125 C81.68991798 54.3265659 91.72940114 69.83381235 96.125 86.625 C98.65755522 94.93494682 103.90573509 99.50746966 110.14453125 105.3125 C115.32480013 110.15030333 119.54202841 115.6082799 123.74121094 121.296875 C124.97069396 122.96034931 126.22216212 124.60527552 127.4765625 126.25 C149.37662682 155.43127127 163.02198277 190.16088796 169 226 C169.18546387 227.09006348 169.37092773 228.18012695 169.56201172 229.30322266 C171.23913891 240.28309461 171.39845897 251.1619621 171.375 262.25 C171.37418427 263.70215912 171.37418427 263.70215912 171.37335205 265.18365479 C171.22463923 322.90683414 150.11431867 378.09792279 110.49609375 420.31640625 C108.36940178 422.60284973 106.32927439 424.92987084 104.3125 427.3125 C100.85698131 431.28145661 97.0311182 434.62915116 93 438 C91.72382812 439.10794922 91.72382812 439.10794922 90.421875 440.23828125 C76.71994764 451.97476821 62.02049308 461.72314658 46 470 C45.27151855 470.3825293 44.54303711 470.76505859 43.79248047 471.15917969 C12.35755056 487.50729442 -22.56065749 495.39785358 -57.85229492 495.31567383 C-60.66690213 495.31252306 -63.48044415 495.33604324 -66.29492188 495.36132812 C-83.36671738 495.42182779 -99.98559151 493.38925035 -116.5625 489.25 C-117.61002441 488.99033447 -118.65754883 488.73066895 -119.73681641 488.46313477 C-156.80340472 479.01760576 -190.45606434 460.64050259 -218.31640625 434.49609375 C-220.60284973 432.36940178 -222.92987084 430.32927439 -225.3125 428.3125 C-229.28145661 424.85698131 -232.62915116 421.0311182 -236 417 C-237.10794922 415.72382812 -237.10794922 415.72382812 -238.23828125 414.421875 C-249.97476821 400.71994764 -259.72314658 386.02049308 -268 370 C-268.3825293 369.27151855 -268.76505859 368.54303711 -269.15917969 367.79248047 C-285.94445403 335.51695935 -293.46001104 300.04044817 -293.3125 263.875 C-293.31034485 262.92401428 -293.3081897 261.97302856 -293.30596924 260.9932251 C-293.25552529 247.12522027 -292.89617502 233.60916026 -290 220 C-289.80132324 219.02579102 -289.60264648 218.05158203 -289.39794922 217.04785156 C-281.77243 180.38823933 -266.25982966 147.2991964 -243 118 C-242.5678418 117.45069824 -242.13568359 116.90139648 -241.69042969 116.33544922 C-235.20698985 108.16209652 -227.99109117 100.82819189 -220.45654297 93.61767578 C-215.85674458 89.14522844 -212.10017685 84.55536586 -208.5234375 79.22973633 C-206.73927864 76.61840253 -204.73321804 74.29208068 -202.625 71.9375 C-194.72121676 62.38318138 -189.80539106 50.99730926 -184.9375 39.6875 C-177.69594475 22.9491163 -167.74367343 10.75010971 -151 3 C-146.72541193 1.32582761 -142.46437562 0.06000879 -138 -1 C-136.67742187 -1.31904297 -136.67742187 -1.31904297 -135.328125 -1.64453125 C-115.73022687 -5.58110327 -94.67841842 -4.09602971 -74.79882812 -3.96337891 C-65.64818958 -3.91377379 -56.61727121 -4.04985646 -47.49023438 -4.75097656 C-14.70544693 -7.0901262 -14.70544693 -7.0901262 0 0 Z " fill="#353433" transform="translate(311,5)"></path><path d="M0 0 C6.05605566 0.48887434 10.78993867 3.14056545 16.0625 5.9375 C16.99698975 6.43185547 17.93147949 6.92621094 18.89428711 7.43554688 C26.62224048 11.61982382 33.36031423 16.24027259 40 22 C40.51353027 22.4434375 41.02706055 22.886875 41.55615234 23.34375 C68.83377689 47.07368226 88.71838579 80.5080626 92 117 C92.14919918 120.98184584 92.1570699 124.96097021 92.16113281 128.9453125 C92.16609772 130.12046921 92.17106262 131.29562592 92.17617798 132.50639343 C92.19073523 136.37926835 92.19759187 140.25210226 92.203125 144.125 C92.20586464 145.46812972 92.20872133 146.8112592 92.21169281 148.15438843 C92.22534633 154.47085636 92.23502212 160.78731149 92.2388947 167.10379314 C92.24336321 174.3488202 92.26086371 181.59365745 92.2898953 188.83862686 C92.31165752 194.46871943 92.32160674 200.09875919 92.32293582 205.72889328 C92.32397401 209.07728953 92.33116213 212.42536604 92.34775543 215.77374268 C92.41088226 229.49449894 92.44410087 242.64648806 89 256 C88.76853271 256.90177979 88.53706543 257.80355957 88.29858398 258.73266602 C87.72960897 260.83340594 87.08283697 262.87973482 86.375 264.9375 C86.12411621 265.67492432 85.87323242 266.41234863 85.61474609 267.17211914 C79.49618293 284.3534098 69.4528221 298.79514246 57 312 C56.38769531 312.67675781 55.77539062 313.35351562 55.14453125 314.05078125 C35.21731229 335.25266241 3.35362075 348.35413543 -25.53125 349.3359375 C-62.04899004 349.81215402 -93.44586045 338.55845102 -120.09204102 313.30859375 C-139.47195071 294.35960239 -155.52009622 265.56711439 -156.25396729 237.97756958 C-156.26566414 236.18967377 -156.26676061 234.40168583 -156.25878906 232.61376953 C-156.2622937 231.62650375 -156.26579834 230.63923798 -156.26940918 229.62205505 C-156.27816555 226.37556789 -156.27238697 223.12930171 -156.265625 219.8828125 C-156.26697616 217.58438069 -156.26892042 215.28594916 -156.27142334 212.98751831 C-156.27436877 208.16092213 -156.27010588 203.33440003 -156.26074219 198.5078125 C-156.24951307 192.4345658 -156.25597783 186.36149767 -156.26764679 180.2882576 C-156.31107275 153.46105262 -155.97828984 126.76136113 -154 100 C-146.36145468 97.8013921 -146.36145468 97.8013921 -143.046875 97.140625 C-104.75834526 89.23747976 -69.29076866 73.03834599 -40 47 C-39.00871094 46.13117188 -38.01742187 45.26234375 -36.99609375 44.3671875 C-31.5669101 39.53632205 -26.647891 34.5755163 -22 29 C-21.18015625 28.06800781 -20.3603125 27.13601562 -19.515625 26.17578125 C-12.28770819 17.9153049 -6.06583197 9.13981258 0 0 Z " fill="#F6D3D3" transform="translate(282,87)"></path><path d="M0 0 C0.85239258 0.46631836 1.70478516 0.93263672 2.58300781 1.41308594 C35.33864078 19.60268716 69.94087301 39.25657689 81.375 77.1875 C84.88830126 89.97657327 85.40312563 102.71236174 85.375 115.875 C85.37512085 116.74728241 85.3752417 117.61956482 85.37536621 118.51828003 C85.33320156 140.05191469 82.38312104 160.73245007 78.50317383 181.89770508 C74.4750643 204.62648543 72.79755129 227.86622023 70.95092773 250.85644531 C70.89369537 251.56106903 70.83646301 252.26569275 70.77749634 252.9916687 C70.62433589 254.88666277 70.47474858 256.78194469 70.32543945 258.67724609 C70.01762912 261.82000575 69.55942219 264.89315081 69 268 C68.67 268 68.34 268 68 268 C67.99635437 267.06579727 67.99270874 266.13159454 67.98895264 265.16908264 C67.95156033 256.24397405 67.89332338 247.3191965 67.81609726 238.39434147 C67.77705245 233.80902507 67.74465854 229.22388838 67.72900391 224.63842773 C67.55616299 177.46357496 60.54153609 136.00542424 29 99 C28.30390625 98.16984375 27.6078125 97.3396875 26.890625 96.484375 C21.47376861 90.22233535 15.55880769 85.03606353 9 80 C8.17113281 79.34386719 7.34226562 78.68773438 6.48828125 78.01171875 C-3.66497516 70.2529516 -15.17174259 63.83456553 -27 59 C-25.56347895 54.08558588 -23.45840385 49.99761642 -20.875 45.625 C-20.50246094 44.98433594 -20.12992188 44.34367187 -19.74609375 43.68359375 C-18.83565998 42.11951523 -17.91851809 40.55934466 -17 39 C-14.28674973 41.61297798 -11.97252746 44.27540543 -9.75 47.3125 C0.33820833 60.31036 15.57910631 69.15729065 31.97558594 71.25244141 C35.97819997 71.65851774 39.97967096 71.87780155 44 72 C44 69.69 44 67.38 44 65 C43.20078125 65.03480469 42.4015625 65.06960937 41.578125 65.10546875 C25.0091489 65.51385901 12.36245521 60.70258091 0.29296875 49.3046875 C-9.8473496 39.11254469 -9.8473496 39.11254469 -12 34 C-11.8133672 29.52081279 -10.37988562 26.72503836 -8 23 C-8 22.34 -8 21.68 -8 21 C-9.98 20.01 -9.98 20.01 -12 19 C-16.81852156 26.48624709 -21.06960529 34.26573965 -25.33789062 42.07397461 C-37.04759459 63.46922547 -51.30540939 82.2557495 -68 100 C-68.65484375 100.70898438 -69.3096875 101.41796875 -69.984375 102.1484375 C-100.58418239 134.18669737 -148.41651011 154.62513358 -192 159 C-192.03425331 159.84112083 -192.03425331 159.84112083 -192.06919861 160.69923401 C-192.3084012 166.55593732 -192.55256513 172.4124191 -192.79956055 178.26879883 C-192.89099312 180.45201452 -192.98117707 182.63528288 -193.07006836 184.81860352 C-193.1983435 187.96385269 -193.33116525 191.10888265 -193.46484375 194.25390625 C-193.52272316 195.70900352 -193.52272316 195.70900352 -193.58177185 197.1934967 C-193.74608959 200.97777329 -193.94806387 204.65579971 -194.51367188 208.40429688 C-195.22814486 213.68680597 -195.23716932 218.95213953 -195.31640625 224.27734375 C-195.33718735 225.4438295 -195.35796844 226.61031525 -195.37937927 227.81214905 C-195.44450911 231.52054224 -195.50358917 235.22900332 -195.5625 238.9375 C-195.60572001 241.45899126 -195.6493354 243.98047577 -195.69335938 246.50195312 C-195.80015284 252.66789799 -195.9019857 258.83390967 -196 265 C-196.66 264.67 -197.32 264.34 -198 264 C-198.4793396 262.10076904 -198.4793396 262.10076904 -198.80615234 259.57324219 C-198.93338181 258.62480438 -199.06061127 257.67636658 -199.19169617 256.69918823 C-199.32179581 255.65892487 -199.45189545 254.6186615 -199.5859375 253.546875 C-199.72767899 252.47220978 -199.86942047 251.39754456 -200.01545715 250.29031372 C-200.47692865 246.77790382 -200.92584274 243.26400381 -201.375 239.75 C-201.68952073 237.3437831 -202.00503266 234.93769556 -202.3215332 232.53173828 C-202.94269413 227.80388301 -203.55991695 223.07554506 -204.17333984 218.34667969 C-205.14710689 210.85175841 -206.15355722 203.36185827 -207.1875 195.875 C-207.41626831 194.21343872 -207.41626831 194.21343872 -207.6496582 192.51831055 C-208.7156315 184.85493578 -209.87486505 177.20786497 -211.0625 169.5625 C-211.39203916 167.41928806 -211.72146874 165.27605927 -212.05078125 163.1328125 C-212.51186924 160.13315548 -212.97799195 157.13499807 -213.46630859 154.13964844 C-218.07228821 125.86640272 -219.10944409 97.47225721 -202.234375 72.984375 C-199.96271538 69.95020026 -197.55032796 67.10868431 -195.0625 64.25 C-186.80131839 54.49826881 -181.49301033 43.32437646 -176.375 31.6875 C-169.65594848 16.44058744 -162.1259406 4.33949533 -146 -2 C-137.64529071 -4.75417313 -129.50212258 -6.10083237 -120.69458008 -6.18945312 C-119.65394409 -6.20189308 -119.65394409 -6.20189308 -118.59228516 -6.21458435 C-117.09733564 -6.23187172 -115.60236075 -6.24706843 -114.10737038 -6.26036072 C-111.73009813 -6.28160235 -109.35295034 -6.30860963 -106.97575378 -6.33703613 C-101.92138534 -6.39644789 -96.86695607 -6.44866925 -91.8125 -6.5 C-85.96669096 -6.55959415 -80.12094253 -6.6222494 -74.27524376 -6.69187927 C-71.95352063 -6.7180842 -69.63178999 -6.7391234 -67.31001282 -6.7598877 C-60.04312325 -6.83739584 -52.83269768 -7.05910336 -45.59295654 -7.75413513 C-28.52945398 -9.37210124 -15.10508548 -8.33615335 0 0 Z " fill="#543834" transform="translate(314,22)"></path><path class="background svelte-rxmae4" d="M0 0 C3.64967093 3.48818106 6.76902987 7.12237311 9.6875 11.25 C10.11538818 11.85497314 10.54327637 12.45994629 10.98413086 13.08325195 C25.13704454 33.42693401 34.9267969 55.29715493 42 79 C42.22558594 79.75458496 42.45117188 80.50916992 42.68359375 81.28662109 C52.70565013 115.97898455 50.79426156 153.38354412 42 188 C41.69191406 189.25296875 41.38382812 190.5059375 41.06640625 191.796875 C33.1385498 221.81702476 17.38276585 249.71777488 -3 273 C-3.62132561 273.79698051 -3.62132561 273.79698051 -4.25520325 274.61006165 C-6.76078859 276.60605869 -8.58055548 276.36089197 -11.7565918 276.34057617 C-12.93758957 276.34034958 -14.11858734 276.34012299 -15.33537292 276.33988953 C-16.61044205 276.32440567 -17.88551117 276.30892181 -19.19921875 276.29296875 C-21.15720146 276.28660149 -21.15720146 276.28660149 -23.15473938 276.28010559 C-26.62205279 276.26866089 -30.08898813 276.23919754 -33.55615234 276.20599365 C-37.09532558 276.17528433 -40.63456001 276.16159845 -44.17382812 276.14648438 C-51.11604055 276.11432705 -58.05800211 276.06313554 -65 276 C-63.29967157 272.37625547 -61.23653147 270.00725776 -58.4375 267.125 C-37.36612647 244.58682602 -28.90979138 214.82001659 -25 185 C-23.98292969 184.67128906 -23.98292969 184.67128906 -22.9453125 184.3359375 C-10.43127799 180.07215289 -0.71117931 174.53160335 5.34765625 162.2734375 C7.46207677 157.13516827 9.09537569 152.28130127 9.19287109 146.69726562 C9.20893402 145.85538696 9.22499695 145.0135083 9.24154663 144.14611816 C9.2865044 140.28362198 9.32710541 136.42129147 9.35009766 132.55859375 C9.36658356 130.53373665 9.39377502 128.50893595 9.43212891 126.484375 C9.71779879 111.30164179 9.04343459 98.61219517 -2 87 C-2.88389404 86.41508789 -2.88389404 86.41508789 -3.78564453 85.81835938 C-5.8971166 84.34248081 -7.45557872 83.0694706 -9 81 C-9.52637237 77.2844758 -8.83689488 73.90875944 -8.125 70.25 C-7.9587915 69.22938477 -7.79258301 68.20876953 -7.62133789 67.15722656 C-7.11638682 64.09740948 -6.56266202 61.04965863 -6 58 C-5.5935198 55.6423236 -5.19704124 53.28315773 -4.80175781 50.92358398 C-4.55806916 49.46945524 -4.31130203 48.01583919 -4.06152344 46.56274414 C-1.44749723 31.13895492 -0.59035601 15.61336289 0 0 Z " fill="#FD6B03" transform="translate(413,134)"></path><path class="background svelte-rxmae4" d="M0 0 C0.33 0 0.66 0 1 0 C1.04898438 1.30453125 1.09796875 2.6090625 1.1484375 3.953125 C1.54046666 13.46484653 2.22040148 22.6367529 4 32 C4.49941165 34.95515425 4.97036861 37.91458876 5.4375 40.875 C5.62542114 42.06561035 5.62542114 42.06561035 5.81713867 43.28027344 C6.83181295 49.78291718 7.77906996 56.29420186 8.6875 62.8125 C8.81890381 63.73724121 8.95030762 64.66198242 9.08569336 65.61474609 C10.7771811 77.96749139 10.7771811 77.96749139 8.64453125 80.80078125 C7.73767578 81.54908203 7.73767578 81.54908203 6.8125 82.3125 C-0.12401333 88.67447384 -4.96346839 98.28856054 -5.40405273 107.75683594 C-5.43031319 109.49917889 -5.43938365 111.24184378 -5.43359375 112.984375 C-5.4388356 113.92122131 -5.44407745 114.85806763 -5.44947815 115.82330322 C-5.4558705 117.79658015 -5.45459769 119.76989532 -5.44604492 121.74316406 C-5.43756274 124.72792176 -5.46629092 127.71074463 -5.49804688 130.6953125 C-5.55632599 146.09476253 -3.7590455 158.19855563 7 170 C11.95063458 174.48390809 16.97722708 177.16629211 23.328125 179.19140625 C24.39450195 179.53502197 25.46087891 179.8786377 26.55957031 180.23266602 C27.36491211 180.48588623 28.17025391 180.73910645 29 181 C29.14248169 182.01030273 29.14248169 182.01030273 29.2878418 183.04101562 C33.7855895 214.36776165 43.23320896 244.95774079 66.625 267.6875 C67.800625 268.8321875 67.800625 268.8321875 69 270 C69 270.66 69 271.32 69 272 C61.4810381 272.25617342 53.96253412 272.45096265 46.44018745 272.56993389 C42.94584956 272.62707542 39.45452002 272.70438989 35.96191406 272.82983398 C31.93527447 272.97353443 27.91173337 273.02581131 23.8828125 273.07421875 C22.64387238 273.13099289 21.40493225 273.18776703 20.12844849 273.2462616 C14.72222413 273.25006662 11.34284618 273.0732433 7.0304718 269.62666321 C4.483544 266.85598065 2.21035926 264.04337383 0 261 C-0.90386444 259.8375325 -0.90386444 259.8375325 -1.82598877 258.65158081 C-3.30427632 256.74486999 -4.69194963 254.79783802 -6.0625 252.8125 C-6.56434814 252.0911084 -7.06619629 251.3697168 -7.58325195 250.62646484 C-16.54625386 237.53931229 -23.52409367 223.45163657 -30 209 C-30.48339844 207.9275 -30.96679688 206.855 -31.46484375 205.75 C-51.46616492 157.69570761 -49.62506806 99.07346123 -30.02001953 51.40234375 C-22.626104 33.98823919 -13.62452625 13.62452625 0 0 Z " fill="#FD6B03" transform="translate(83,138)"></path><path d="M0 0 C4.32680531 1.37908749 8.45146987 3.02720889 12.625 4.8125 C46.74774688 18.90686749 82.36033684 16.21641312 116.09423828 2.74072266 C118.69794694 1.72872521 121.34053803 0.85287643 124 0 C123.39781085 12.04378309 118.30139403 21.60313863 111 31 C110.52820313 31.63679688 110.05640625 32.27359375 109.5703125 32.9296875 C100.44331732 44.53180001 85.18942158 51.31785324 71 54 C52.66073957 55.90459425 35.87968539 51.10314735 21.1875 39.8125 C10.66016758 30.68054301 3.00670273 18.66683059 0 5 C-0.125 2.0625 -0.125 2.0625 0 0 Z " fill="#F5D2D2" transform="translate(188,428)"></path><path d="M0 0 C6.05706487 0.48895581 10.78842496 3.14195203 16.0625 5.9375 C16.98828857 6.42387939 17.91407715 6.91025879 18.86791992 7.41137695 C26.56873022 11.55982391 33.35555898 16.31709219 40 22 C36.56028854 23.14657049 36.11134248 22.85413355 32.875 21.625 C25.45487857 19.20683543 17.73657721 19.26027928 10 19 C9.72285156 19.88300781 9.44570313 20.76601562 9.16015625 21.67578125 C5.73178331 31.49916634 -0.26625082 39.20687255 -7 47 C-7.53753906 47.66 -8.07507813 48.32 -8.62890625 49 C-38.57540317 85.55594174 -93.39899691 99.65318103 -137.6875 106.875 C-138.42274902 106.99528564 -139.15799805 107.11557129 -139.91552734 107.23950195 C-144.65382025 107.95195666 -149.20891077 108.09678968 -154 108 C-154 105.36 -154 102.72 -154 100 C-149.67406641 98.70901458 -145.37227397 97.6206112 -140.95214844 96.70825195 C-103.46600596 88.90764337 -68.63778457 72.4578687 -40 47 C-39.00871094 46.13117188 -38.01742187 45.26234375 -36.99609375 44.3671875 C-31.5669101 39.53632205 -26.647891 34.5755163 -22 29 C-21.18015625 28.06800781 -20.3603125 27.13601562 -19.515625 26.17578125 C-12.28770819 17.9153049 -6.06583197 9.13981258 0 0 Z " fill="#E4C4C4" transform="translate(282,87)"></path><path d="M0 0 C8.89274825 -0.11600884 17.78523481 -0.20477287 26.67857552 -0.25906086 C30.80845044 -0.28512069 34.93780649 -0.32045125 39.06738281 -0.37719727 C43.05503287 -0.43164817 47.04218485 -0.46144772 51.03017807 -0.47438622 C52.54923211 -0.48360284 54.06825982 -0.50160138 55.58710098 -0.52865028 C57.72028073 -0.56511834 59.85142043 -0.56993851 61.98486328 -0.56762695 C63.1973172 -0.57873001 64.40977112 -0.58983307 65.65896606 -0.60127258 C70.16879147 0.21034275 71.79316287 1.75960343 75 5 C76.03125 8.0234375 76.03125 8.0234375 76.5 11.375 C79.45052813 27.74013859 86.88859363 39.87388334 98.1796875 51.96875 C100 54 100 54 101 56 C94.74403566 55.42341342 89.19049224 54.01684068 83.25 52 C82.33895508 51.69167236 81.42791016 51.38334473 80.48925781 51.06567383 C54.59974933 42.07663301 31.05087898 28.31586158 10.1875 10.5625 C9.61878174 10.07861816 9.05006348 9.59473633 8.46411133 9.09619141 C5.2579381 6.29632485 2.61442327 3.34678416 0 0 Z " fill="#3B6AC6" transform="translate(99,422)"></path><path d="M0 0 C1.01080879 -0.0010952 1.01080879 -0.0010952 2.04203796 -0.00221252 C4.25038601 0.00124718 6.45657532 0.04002407 8.66455078 0.0793457 C10.20296069 0.08867977 11.74138554 0.09579308 13.27981567 0.1007843 C17.31450974 0.11980791 21.34829327 0.16886691 25.38262939 0.2243042 C29.50512375 0.27559795 33.62776629 0.29831983 37.75048828 0.32348633 C45.82902955 0.37699173 53.90683291 0.46224638 61.98486328 0.56762695 C61.04264845 1.68162791 60.09830142 2.79382567 59.15307617 3.90527344 C58.62742569 4.52482407 58.10177521 5.14437469 57.56019592 5.78269958 C33.81915921 32.68243178 -6.60555487 50.3314943 -41.01513672 57.56762695 C-40.26876953 56.82512695 -39.52240234 56.08262695 -38.75341797 55.31762695 C-26.22802668 42.73863199 -15.13070026 27.1463615 -13.72998047 8.84106445 C-12.92403462 5.15044906 -11.68690875 3.9007254 -8.75794601 1.60383034 C-5.87016476 -0.11312671 -3.31237973 -0.03033315 0 0 Z " fill="#3B6AC6" transform="translate(339.01513671875,421.432373046875)"></path><path d="M0 0 C4.32680531 1.37908749 8.45146987 3.02720889 12.625 4.8125 C46.74774688 18.90686749 82.36033684 16.21641312 116.09423828 2.74072266 C118.69794694 1.72872521 121.34053803 0.85287643 124 0 C123.58898182 6.12275363 122.84466048 11.50686253 120 17 C118.01408223 17.40895196 116.00912245 17.72698336 114 18 C112.14290702 18.6546152 110.28647605 19.31256639 108.44848633 20.01904297 C77.51506267 31.85627679 44.37589876 31.09840471 13.6015625 19.26953125 C10.3610015 18.12725107 7.39812759 17.43660153 4 17 C3.32389577 15.10751181 2.65949561 13.2108398 2 11.3125 C1.62875 10.25675781 1.2575 9.20101563 0.875 8.11328125 C0.0608143 5.21637944 -0.17709796 2.98299377 0 0 Z " fill="#E4C4C4" transform="translate(188,428)"></path><path d="M0 0 C4.75 0.875 4.75 0.875 7 2 C7 4.97 7 7.94 7 11 C11.24123736 12.59602785 14.79561507 13.20771268 19.3125 13.3125 C24.94801693 13.64626638 28.35798783 14.95674197 33.08984375 17.90234375 C36.00540253 19.57774665 37.71385957 19.68461259 41 19 C42.32733714 18.23346985 43.63811927 17.43802034 44.9375 16.625 C50.23834589 13.42278252 55.61553199 12.97395189 61.64453125 12.359375 C65.13762666 12.06323269 65.13762666 12.06323269 69 11 C69 8.03 69 5.06 69 2 C73 0 73 0 76 0 C77.68042411 3.36084821 76.94166601 7.07930547 76.75 10.75 C76.70939453 11.94882812 76.70939453 11.94882812 76.66796875 13.171875 C76.35645256 19.28161193 75.21835076 23.78164924 70.75 28.25 C66.07385903 31.22572607 61.56425423 31.99204781 56.125 32.3125 C52.2035186 32.6214652 49.72286958 33.50760074 46.375 35.5625 C42.79301072 37.71797776 40.20898872 38.76360321 36.0078125 38.5 C33.63342234 37.90871218 31.95294421 36.91317206 29.875 35.625 C24.89912637 32.54428519 20.08895512 32.08450541 14.33203125 31.5546875 C9.44184194 30.74061144 6.21808202 29.21601045 2.703125 25.70703125 C-1.45592111 19.09643731 -1.43360143 9.66029186 -1 2 C-0.67 1.34 -0.34 0.68 0 0 Z " fill="#E4C4C4" transform="translate(212,300)"></path><path d="M0 0 C7.08185598 3.33263811 10.7420155 9.66177032 13.35574341 16.78770447 C14.38292884 20.31492913 14.42933348 23.68722685 14.3984375 27.33984375 C14.40130768 28.10623672 14.40417786 28.8726297 14.40713501 29.6622467 C14.40916226 31.27150213 14.4037269 32.88078296 14.39111328 34.48999023 C14.3750616 36.92814295 14.39099535 39.36463281 14.41015625 41.80273438 C14.425349 53.27641898 13.65182835 63.11113545 5.24609375 71.81640625 C0.09839279 76.64174629 -4.7695846 79.73559904 -12 80.1875 C-12.99 80.0946875 -12.99 80.0946875 -14 80 C-14.21191406 77.70141602 -14.21191406 77.70141602 -14 75 C-12.53027344 73.37475586 -12.53027344 73.37475586 -10.609375 71.77734375 C-4.94167202 65.66872429 -5.60775634 57.44218664 -5.25 49.5625 C-5.1005443 47.07153077 -4.93939903 44.58148572 -4.77780151 42.09127808 C-4.67088199 40.431293 -4.56761961 38.77106825 -4.4680481 37.11062622 C-4.02785417 29.87014529 -3.28139872 22.6982255 -2.375 15.5 C-2.25157227 14.49396729 -2.12814453 13.48793457 -2.00097656 12.45141602 C-1.47231827 8.25985868 -0.86071949 4.13803929 0 0 Z " fill="#F1CFCF" transform="translate(396,226)"></path><path d="M0 0 C5.66309719 3.05807248 8.75235003 6.75705008 10.8125 12.9375 C11.41743596 18.94032609 10.800573 23.57957599 7.8125 28.9375 C4.1281382 33.20360314 0.46608211 36.49409055 -5.203125 37.44140625 C-12.1013617 37.56637431 -16.87346898 37.05015601 -22.375 32.69140625 C-27.02194529 28.19468549 -28.42445485 24.56844839 -28.8125 18.0625 C-28.56454739 11.67172155 -26.68983851 7.46757366 -22.1875 2.9375 C-14.93067534 -2.75569946 -8.37093517 -3.7272951 0 0 Z " fill="#FCFBFB" transform="translate(320.1875,217.0625)"></path><path d="M0 0 C4.03102721 2.5239644 7.03181985 6.10660846 9.15234375 10.34765625 C9.80925184 18.04748059 10.05158406 24.15914217 5.15234375 30.34765625 C0.37123634 35.11628035 -3.45080424 36.51312316 -10.16015625 36.66015625 C-15.61380742 36.60568027 -18.76147624 36.22952726 -22.84765625 32.34765625 C-27.31068408 27.77179907 -29.59355509 23.93101802 -30.22265625 17.53515625 C-30.04527683 11.99465778 -27.96581106 7.61639078 -24.19921875 3.58203125 C-16.62052599 -3.23548276 -9.32481985 -4.44722177 0 0 Z " fill="#FCFBFB" transform="translate(197.84765625,217.65234375)"></path><path d="M0 0 C0.54323466 3.860996 1.08497916 7.72219101 1.62426758 11.58374023 C2.08443803 14.87817711 2.54985327 18.17181992 3.01831055 21.46508789 C4.04406233 28.72734638 5.04413617 35.97215052 5.71875 43.27734375 C6.71860869 53.87259434 7.70498938 61.85831066 14.35546875 70.4140625 C16.32455287 73.51034205 16.3221574 75.39817464 16 79 C8.0349902 78.79718725 2.77578947 76.67742221 -2.94921875 71.1015625 C-10.08882326 63.28841039 -12.13263138 56.4329265 -12.23828125 45.98828125 C-12.246353 45.22001511 -12.25442474 44.45174896 -12.26274109 43.66020203 C-12.27653079 42.03724387 -12.28727566 40.41425733 -12.29516602 38.79125977 C-12.30666002 37.14761733 -12.32707099 35.50401145 -12.35668945 33.8605957 C-12.56082505 22.51453379 -12.63312058 12.14684729 -4.3125 3.375 C-3.71050781 2.72273437 -3.10851562 2.07046875 -2.48828125 1.3984375 C-1 0 -1 0 0 0 Z " fill="#F1CFCF" transform="translate(102,227)"></path><path d="M0 0 C1.65 0.33 3.3 0.66 5 1 C5.33 1.99 5.66 2.98 6 4 C0.14500959 14.95934103 -8.57299029 24.56649792 -16.91015625 33.6875 C-18.68356841 35.64985514 -20.38150245 37.64661409 -22.0625 39.6875 C-24.75485639 42.85323773 -27.7384606 45.5277726 -30.90625 48.2109375 C-32.24394517 49.35396808 -33.55942847 50.52387157 -34.84375 51.7265625 C-60.42207544 75.57936599 -94.8609159 94.112557 -129 102 C-129.33 99.69 -129.66 97.38 -130 95 C-129.34330322 94.79020508 -128.68660645 94.58041016 -128.01000977 94.36425781 C-98.43676139 84.80450355 -71.06610392 71.86844142 -47 52 C-46.42942871 51.53094238 -45.85885742 51.06188477 -45.27099609 50.57861328 C-27.52732861 35.90270832 -12.77669449 19.16504174 0 0 Z " fill="#333332" transform="translate(282,41)"></path><path d="M0 0 C4.88218898 0.68871004 9.42659339 1.93815244 14.125 3.375 C48.460647 13.65011751 82.1409469 12.33740087 115.81201172 0.5949707 C118 0 118 0 122 0 C122.495 2.97 122.495 2.97 123 6 C103.08986806 13.94287178 83.7514893 18.42195758 62.1875 18.25 C61.48178864 18.24656586 60.77607727 18.24313171 60.04898071 18.23959351 C38.75342184 18.11807002 18.43186393 15.11474656 -1 6 C-0.67 4.02 -0.34 2.04 0 0 Z " fill="#3B3939" transform="translate(189,353)"></path><path d="M0 0 C1.32 0.66 2.64 1.32 4 2 C4 6 4 6 2.41015625 8.12109375 C-9.61508563 19.98626585 -23.20081375 29.88506764 -38 38 C-38.92449951 38.51554443 -38.92449951 38.51554443 -39.86767578 39.04150391 C-47.92770017 43.48776639 -56.16096721 46.97013522 -64.875 49.9375 C-65.7304541 50.23221191 -66.5859082 50.52692383 -67.46728516 50.83056641 C-73.29646405 52.72778321 -78.88541728 53.62914754 -85 54 C-85 51.69 -85 49.38 -85 47 C-84.04222656 46.78085938 -83.08445313 46.56171875 -82.09765625 46.3359375 C-50.3188439 38.86783582 -23.13503742 23.13503742 0 0 Z " fill="#333333" transform="translate(262,40)"></path><path d="M0 0 C4.75 0.875 4.75 0.875 7 2 C7 4.97 7 7.94 7 11 C11.24123736 12.59602785 14.79561507 13.20771268 19.3125 13.3125 C24.94801693 13.64626638 28.35798783 14.95674197 33.08984375 17.90234375 C36.00540253 19.57774665 37.71385957 19.68461259 41 19 C42.32733714 18.23346985 43.63811927 17.43802034 44.9375 16.625 C50.23834589 13.42278252 55.61553199 12.97395189 61.64453125 12.359375 C65.13762666 12.06323269 65.13762666 12.06323269 69 11 C69 8.03 69 5.06 69 2 C73 0 73 0 76 0 C77.59781534 3.19563068 77.36841911 6.5234633 77 10 C75.21283447 14.13869913 72.74589634 16.53111378 69 19 C64.80532049 20.59397821 60.99671317 21.07944315 56.5625 21.3125 C52.55047242 21.59673084 50.19951116 22.21173892 46.9375 24.5625 C43.11188445 27.24043089 40.13857013 27.72310697 35.5 27.50390625 C31.949834 26.78832592 29.38095783 25.07926879 26.34765625 23.1640625 C22.86284759 21.43615404 19.54839799 21.49043454 15.71484375 21.296875 C10.25227446 20.69952929 5.70187404 18.40404609 1.5 14.9375 C-1.65429078 10.86320774 -1.1558209 6.90835837 -1 2 C-0.67 1.34 -0.34 0.68 0 0 Z " fill="#3A3939" transform="translate(212,300)"></path><path d="M0 0 C0.78310547 0.00644531 1.56621094 0.01289063 2.37304688 0.01953125 C14.32100006 0.39076773 23.79383446 5.21665672 32.3125 13.5 C34.60546875 16.07421875 34.60546875 16.07421875 36.3125 18.5 C36.0625 21.3125 36.0625 21.3125 35.3125 23.5 C33.01953125 23.73046875 33.01953125 23.73046875 30.3125 23.5 C28.57421875 21.92578125 28.57421875 21.92578125 27 19.8125 C22.16354274 13.8720688 16.70328044 10.52133393 9.3125 8.5 C-3.25462796 7.49723435 -12.78248424 8.5752601 -22.75390625 16.71484375 C-24.87390965 18.57013101 -24.87390965 18.57013101 -26.9375 21.4375 C-28.6875 23.5 -28.6875 23.5 -31.4375 23.8125 C-32.18 23.709375 -32.9225 23.60625 -33.6875 23.5 C-34.99899433 19.09276906 -34.99899433 19.09276906 -33.640625 16.5078125 C-24.69979649 6.62368557 -13.49771887 -0.11747362 0 0 Z " fill="#3B3A3A" transform="translate(310.6875,192.5)"></path><path d="M0 0 C0.81855469 0.4021875 1.63710937 0.804375 2.48046875 1.21875 C8.60777139 4.55585885 14.44897509 8.86835038 18 15 C17.70703125 17.77734375 17.70703125 17.77734375 17 20 C14.70703125 20.23046875 14.70703125 20.23046875 12 20 C10.26171875 18.42578125 10.26171875 18.42578125 8.6875 16.3125 C4.0768863 10.63712584 -2.42944229 5.74628793 -9.89160156 4.74658203 C-20.48729468 3.97994959 -29.04119299 4.71546374 -38 11 C-40.9614968 13.45757422 -40.9614968 13.45757422 -43 16 C-45 18.375 -45 18.375 -47 20 C-49.75 19.75 -49.75 19.75 -52 19 C-52 14.46124712 -50.59197426 12.16967126 -47.5625 9 C-35.07211387 -2.66365216 -16.02479935 -7.96713188 0 0 Z " fill="#3A3939" transform="translate(205,196)"></path><path d="M0 0 C4.77884478 2.43627381 7.5270844 5.24439308 10 10 C10.651794 13.91076402 10.21019695 15.59577511 8.375 19.125 C5.71097606 22.34987109 3.79643391 24.20922929 0 26 C-4.92725247 26.43526965 -8.07193984 25.75034651 -11.9375 22.625 C-15.10548598 18.59301784 -16.46071821 16.29621372 -16.31640625 11.0625 C-15.63415419 6.61522729 -13.07168345 3.86893253 -9.6875 1.125 C-6.16108808 -0.35117243 -3.79611 -0.46618895 0 0 Z " fill="#393939" transform="translate(191,222)"></path><path d="M0 0 C3.29110633 2.10070617 4.8333853 3.75007795 7 7 C7.75382467 11.60183667 7.39969844 15.1698571 5.375 19.375 C1.97464693 23.13328497 -0.9916243 24.70711188 -6 25.4375 C-10.81389468 24.73547369 -13.75096912 22.4572027 -16.875 18.8125 C-18.48123136 14.79692159 -18.80996194 11.25979982 -18 7 C-13.90133427 -0.67686597 -7.87856519 -1.9696413 0 0 Z " fill="#383737" transform="translate(317,223)"></path></svg> </div> <span data-svelte-h="svelte-vsv1hx">HEROPY.<br>
          DEV</span></a></div> <div class="--right"><div class="realtime-users loaded" aria-describedby="tooltip"><div class="count"><span id="realtime-user-count" class="value">64</span><span class="unit" data-svelte-h="svelte-c5zdo8">명</span></div> <div style="position: absolute; left: 398.031px; top: 59px;" role="tooltip"><div class="arrow" style="left: 105.5px; top: -6px;"></div> <div class="chart svelte-3xwawh" _echarts_instance_="ec_1741164107357"><div style="position: relative; overflow: hidden; width: 194px; height: 40px;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="full" width="194" height="40" style="position: absolute; left: 0px; top: 0px; user-select: none;"><rect width="194" height="40" x="0" y="0" fill="none"></rect><g><g clip-path="url(#zr0-c0)"><path d="M3.2333 23.8261L3.2333 19.2348L9.7 19.2348L9.7 11.5826L16.1667 11.5826L16.1667 22.2957L22.6333 22.2957L29.1 22.2957L29.1 25.3565L35.5667 25.3565L35.5667 26.887L42.0333 26.887L42.0333 22.2957L48.5 22.2957L54.9667 22.2957L54.9667 10.0522L61.4333 10.0522L61.4333 16.1739L67.9 16.1739L67.9 22.2957L74.3667 22.2957L80.8333 22.2957L80.8333 23.8261L87.3 23.8261L87.3 22.2957L93.7667 22.2957L93.7667 6.9913L100.2333 6.9913L106.7 6.9913L106.7 13.113L113.1667 13.113L113.1667 23.8261L119.6333 23.8261L119.6333 22.2957L126.1 22.2957L132.5667 22.2957L132.5667 20.7652L139.0333 20.7652L139.0333 36.0696L145.5 36.0696L145.5 34.5391L151.9667 34.5391L158.4333 34.5391L158.4333 37.6L164.9 37.6L164.9 25.3565L171.3667 25.3565L171.3667 20.7652L177.8333 20.7652L184.3 20.7652L184.3 2.4L190.7667 2.4" fill="transparent" stroke="#eb0000" stroke-width="2" stroke-linejoin="bevel"></path></g></g><defs><clippath id="zr0-c0"><path d="M-1 1.4l196 0l0 37.2l-196 0Z" fill="#000"></path></clippath></defs></svg></div></div> <p>최근 30분간 동시 방문자 수를 표시합니다. (17:13~17:43)</p> <p><strong data-svelte-h="svelte-1f384px">최고 동시 방문자 수 -</strong><br>
      어제: 88명 / 오늘: 64명</p></div></div> <div class="highlight svelte-14q1d0f"><div class="color-picker svelte-14q1d0f"><div class="current svelte-14q1d0f" role="presentation" title="하이라이트 색상 선택"></div> </div> <div class="ambientlight svelte-14q1d0f" role="presentation" title="앰비언트 라이트 활성/비활성" data-svelte-h="svelte-j4baue"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed" class="svelte-14q1d0f"><path d="M280-240q-100 0-170-70T40-480q0-100 70-170t170-70h400q100 0 170 70t70 170q0 100-70 170t-170 70H280Zm0-80h400q66 0 113-47t47-113q0-66-47-113t-113-47H280q-66 0-113 47t-47 113q0 66 47 113t113 47Zm0-40q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm200-120Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed" class="svelte-14q1d0f"><path d="M280-240q-100 0-170-70T40-480q0-100 70-170t170-70h400q100 0 170 70t70 170q0 100-70 170t-170 70H280Zm0-80h400q66 0 113-47t47-113q0-66-47-113t-113-47H280q-66 0-113 47t-47 113q0 66 47 113t113 47Zm400-40q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM480-480Z"></path></svg></div></div> <div class="menu"><ul class="internal-nav" role="presentation"><li><a href="https://www.heropy.dev/s" class="svelte-bq32e3 shorts">짧은 글</a> </li><li><a href="https://www.heropy.dev/p/XQ4pkx" class="svelte-bq32e3">최신 생성 글</a> </li><li><a href="https://www.heropy.dev/p/6iFzkB" class="svelte-bq32e3">최신 수정 글</a> </li><li><a href="https://www.heropy.dev/about" class="svelte-bq32e3">개발자 소개</a> </li></ul> <ul class="external-nav" role="presentation"><li><a href="https://github.com/ParkYoungWoong" target="_blank" class="github svelte-bq32e3" title="GitHub"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> <small>GitHub</small></a> </li><li><a href="https://www.youtube.com/@heropy2912" target="_blank" class="youtube svelte-bq32e3" title="YouTube"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg> <small>YouTube</small></a> </li><li><a href="https://x.com/ParkYoungWoong" target="_blank" class="x svelte-bq32e3" title="X"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg> <small>X</small></a> </li><li><a href="https://www.linkedin.com/in/%EC%98%81%EC%9B%85-%EB%B0%95-327726172/" target="_blank" class="linkedin svelte-bq32e3" title="LinkedIn"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg> <small>LinkedIn</small></a> </li><li><a href="https://www.instagram.com/heropy.dev/" target="_blank" class="instagram svelte-bq32e3" title="Instagram"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"></path></svg> <small>Instagram</small></a> </li><li><a href="https://heropy.dev/rss.xml" target="_blank" class="rss svelte-bq32e3" title="RSS Feed"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS</title><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"></path></svg> <small>RSS Feed</small></a> </li></ul> <ul class="functions"><li><a href="https://www.heropy.dev/p/HZaKIE##" title="칠판 모드" class="blackboard svelte-bq32e3"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M160-120v-170l527-526q12-12 27-18t30-6q16 0 30.5 6t25.5 18l56 56q12 11 18 25.5t6 30.5q0 15-6 30t-18 27L330-120H160Zm80-80h56l393-392-28-29-29-28-392 393v56Zm560-503-57-57 57 57Zm-139 82-29-28 57 57-28-29ZM560-120q74 0 137-37t63-103q0-36-19-62t-51-45l-59 59q23 10 36 22t13 26q0 23-36.5 41.5T560-200q-17 0-28.5 11.5T520-160q0 17 11.5 28.5T560-120ZM183-426l60-60q-20-8-31.5-16.5T200-520q0-12 18-24t76-37q88-38 117-69t29-70q0-55-44-87.5T280-840q-45 0-80.5 16T145-785q-11 13-9 29t15 26q13 11 29 9t27-13q14-14 31-20t42-6q41 0 60.5 12t19.5 28q0 14-17.5 25.5T262-654q-80 35-111 63.5T120-520q0 32 17 54.5t46 39.5Z"></path></svg> <small>칠판 모드</small></a> </li></ul></div> <div class="menu-toggler" role="presentation" data-svelte-h="svelte-1v0xwh0"><div class="icon"><span class="material-symbols-outlined --opened">menu</span> <span class="material-symbols-outlined --closed">close</span></div>
        메뉴</div></div></div></header>  <div class="global-btn" style=""><button data-svelte-h="svelte-1tatp7r"><span class="material-symbols-outlined">arrow_upward</span></button> <button data-svelte-h="svelte-coucve"><span class="material-symbols-outlined">arrow_downward</span></button></div> <nav><div class="scroll-area"><div class="content-area"><ul class="list" role="presentation"><li><div class="group-name">시작하기</div> <ul><li><a href="https://www.heropy.dev/p/XQ4pkx">내가 보려고 작성한, 처음 맥북 세팅하기 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/XLGqke">구글 크롬 원격 데스크톱 설치 및 사용 가이드 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/B74sNE">마크다운(MarkDown) 사용법 총정리 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/ijqX9h">Yarn 설치 및 사용법 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">Git</div> <ul><li><a href="https://www.heropy.dev/p/6hdJi6">사례로 이해하는 GitHub Flow <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/PcUkdT">Git 핵심 명령어 모음 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">HTML</div> <ul><li><a href="https://www.heropy.dev/p/xCoQJR">HTML, CSS 첫걸음 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/LWIk13">HTML 주요 요소와 속성, 한눈에 보기 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/5Gl8hX">HTML IMG의 srcset과 sizes 속성 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">CSS</div> <ul><li><a href="https://www.heropy.dev/p/yUnC6g">CSS before, after 선택자 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/Ha29GI">CSS Flex 완벽 가이드 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/c6ROLZ">CSS Grid 완벽 가이드 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/26YKpK">CSS Animation 완벽 가이드 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/NSH7aj">CSS Multi Column 완벽 가이드 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/Y7OrPe">SCSS/Sass 완벽 가이드 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">JS</div> <ul><li><a href="https://www.heropy.dev/p/N6phSt">JS 함수 핵심 패턴 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/CPE3zl">JS 클래스 핵심 패턴 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/Zr4RfI">JS 비동기 핵심 패턴 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/ydKoQO">JS Intersection Observer, 요소의 가시성 관찰 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/0pVrDl">JS Resize Observer, 요소의 크기 변화 관찰 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/QlwiuS">JS Blob(블랍) 이해하기 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">TS</div> <ul><li><a href="https://www.heropy.dev/p/WhqSC8">한눈에 보는 타입스크립트 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">Web</div> <ul><li><a href="https://www.heropy.dev/p/x8iedW">번들러와 빌드 도구의 이해 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/QOWqjV">데이터 통신을 위한, Fetch 함수와 Axios 라이브러리 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/wc7QvJ">GA4 Query Explorer와 Google Analytics Data API 활용하기 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">React</div> <ul><li><a href="https://www.heropy.dev/p/6iFzkB">React 프로젝트 시작하기 w. Vite <div class="status-icons"> <span class="status-icon --updated" title="🛠️ 최근 수정되었어요."></span> </div></a> </li><li><a href="https://www.heropy.dev/p/OidQSe">React 핵심 패턴 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/EdhHX2">React Context API <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/9tesDt">React Router 핵심 정리 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/n74Tgc">Zustand 핵심 정리 <div class="status-icons">  </div></a> </li><li class="active"><a href="https://www.heropy.dev/p/HZaKIE">TanStack Query(React Query) 핵심 정리 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/n7JHmI">Next.js 15 핵심 정리 <div class="status-icons"> <span class="status-icon --updated" title="🛠️ 최근 수정되었어요."></span> </div></a> </li><li><a href="https://www.heropy.dev/p/pd8CoS">Next.js 번들 사이즈 줄이기 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/MI1Khc">Auth.js(NextAuth.js) 핵심 정리 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/Bgimsk">React 테스트 자동화 w. Vitest &amp; Testing Library &amp; MSW &amp; Cypress <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">Vue</div> <ul><li><a href="https://www.heropy.dev/p/aBLqC5">Vue 프로젝트 시작하기 w. Vite <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/zDWwNL">Vue Composition API 핵심 패턴 w. 타입스크립트 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">Svelte</div> <ul><li><a href="https://www.heropy.dev/p/UKy78n">Svelte 개요 및 기본 문법 <div class="status-icons">  <span class="status-icon --video" title="📹 영상 강의가 있어요!"></span></div></a> </li><li><a href="https://www.heropy.dev/p/AciIGD">Svelte 완벽 가이드 <div class="status-icons">  <span class="status-icon --video" title="📹 영상 강의가 있어요!"></span></div></a> </li><li><a href="https://www.heropy.dev/p/QWrwz3">(초안) SvelteKit <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">DB</div> <ul><li><a href="https://www.heropy.dev/p/zZdlXx">JSON Server 핵심 정리 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/bCffI2">Supabase Database, Prisma로 빠르게 시작하기 w. Next.js <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/qzeuNi">이미 사용 중인 MongoDB 인스턴스 종료하기 <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">HEROPY API</div> <ul><li><a href="https://www.heropy.dev/p/5PlGxB">사용자 정보 API <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/71PGfA">지연 응답 API <div class="status-icons">  </div></a> </li></ul> </li><li><div class="group-name">Workation</div> <ul><li><a href="https://www.heropy.dev/p/eU4fA8">양양 쏠비치 워케이션 24년 12월 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/JKIAj3">동해 망상오토캠핑리조트 워케이션 24년 12월 <div class="status-icons">  </div></a> </li><li><a href="https://www.heropy.dev/p/OBQx3v">태백 오투리조트 워케이션 24년 12월 <div class="status-icons">  </div></a> </li></ul> </li></ul></div></div></nav> <div class="nav-bg" role="presentation"></div> <div class="nav-toggler" role="presentation" data-svelte-h="svelte-uy8sra" style=""><span class="material-symbols-outlined">menu</span></div> <div class="container --post"> <main><div class="hmd-container"><h1>TanStack Query(React Query) 핵심 정리</h1> <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/main.jpg" alt="TanStack Query(React Query) 핵심 정리" class="post-image svelte-57swi9" loading="lazy" decoding="async"> <div class="hmd-container hmd-container--HZaKIE"><p></p><div class="message-box message-box--message-box" style="border-color: #3b8eed">
                <div class="message-box__icon" style="color: #3b8eed"><span class="material-symbols-outlined">info</span></div>
                <div class="message-box__contents"><p>이 글은 TanStack Query(React Query) <code>5.61.4</code> 버전을 기준으로 작성되었습니다.</p>
</div>
              </div><p></p>

<section class="hmd-section">
<h2 id="h2_개요"><a href="https://www.heropy.dev/p/HZaKIE#h2_%EA%B0%9C%EC%9A%94"># </a>개요</h2>
<p>TanStack Query는 서버로부터 데이터 가져오기, 데이터 캐싱, 캐시 제어 등 데이터를 쉽고 효율적으로 관리할 수 있는 라이브러리입니다.<br>React Query라는 이름으로 시작했지만, v4부터 Vue나 Svelte 등의 다른 프레임워크에서도 활용할 수 있도록 기능이 확장되며 TanStack Query라는 이름으로 변경되었습니다.</p>
<p><span class="figure">
            <span class="img" style="">
              <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/s0.png" alt="TanStack Logo" title="TanStack Logo" style="background-color: transparent;" onload="this.parentElement.querySelector(&#39;.hmd-loader&#39;)?.remove();this.style.backgroundColor=&#39;transparent&#39;">
              <span data-src="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/s0.png" class="zoom material-symbols-outlined">zoom_out_map</span>
              
            </span>
            <span class="figcaption">TanStack Logo</span>
          </span></p>
<p>대표적인 기능은 다음과 같습니다.</p>
<ul>
<li>데이터 가져오기 및 캐싱</li><li>동일 요청의 중복 제거</li><li>신선한 데이터 유지</li><li>무한 스크롤, 페이지네이션 등의 성능 최적화</li><li>네트워크 재연결, 요청 실패 등의 자동 갱신</li></ul>
</section>
<section class="hmd-section">
<h3 id="h3_데이터_캐싱"><a href="https://www.heropy.dev/p/HZaKIE#h3_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%BA%90%EC%8B%B1"># </a>데이터 캐싱</h3>
<p>TanStack Query를 활용해서 데이터를 가져올 때는 항상 쿼리 키(<code>queryKey</code>)를 지정하게 됩니다.<br>이 쿼리 키는 캐시된 데이터와 비교해 새로운 데이터를 가져올지, 캐시된 데이터를 사용할지 결정하는 기준이 됩니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-MwDPbxL" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div></div>
<div class="code-wrap"><code id="c-MwDPbxL" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>()
  })
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{JSON.stringify(data)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></div></pre>
            </div>
            <p>다음 이미지는 쿼리 키와 일치하는 캐시된 데이터가 없을 때, 서버에서 새로운 데이터를 가져오는 과정을 보여줍니다.<br>서버에서 데이터를 가져오면 그 데이터는 캐시되고 그 이후 요청부터는 캐시된 데이터를 사용할 수 있습니다.</p>
<p><span class="figure">
            <span class="img" style="">
              <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/s1.jpg" alt="캐시된 데이터가 없을 때(Miss)" title="캐시된 데이터가 없을 때(Miss)" style="background-color: transparent;" onload="this.parentElement.querySelector(&#39;.hmd-loader&#39;)?.remove();this.style.backgroundColor=&#39;transparent&#39;">
              <span data-src="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/s1.jpg" class="zoom material-symbols-outlined">zoom_out_map</span>
              
            </span>
            <span class="figcaption">캐시된 데이터가 없을 때(Miss)</span>
          </span></p>
<p>반대로 쿼리 키와 일치하는 캐시된 데이터가 있으면, 서버에 요청하지 않고 캐시된 데이터를 사용하게 됩니다.<br>따라서 같은 데이터를 가져오는 요청이 여러 번 발생해도, 캐시된 데이터를 사용하게 되어 중복 요청을 줄일 수 있습니다.<br>그렇다면 한번 캐시된 데이터가 있으면, 서버로는 더 이상 요청을 보낼 수 없는 걸까요?</p>
<p><span class="figure">
            <span class="img" style="">
              <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/s2.jpg" alt="캐시된 데이터가 있을 때(Hit)" title="캐시된 데이터가 있을 때(Hit)" style="background-color: transparent;" onload="this.parentElement.querySelector(&#39;.hmd-loader&#39;)?.remove();this.style.backgroundColor=&#39;transparent&#39;">
              <span data-src="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/s2.jpg" class="zoom material-symbols-outlined">zoom_out_map</span>
              
            </span>
            <span class="figcaption">캐시된 데이터가 있을 때(Hit)</span>
          </span></p>
</section>
<section class="hmd-section">
<h3 id="h3_데이터의_신선도"><a href="https://www.heropy.dev/p/HZaKIE#h3_%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98_%EC%8B%A0%EC%84%A0%EB%8F%84"># </a>데이터의 신선도</h3>
<p>TanStack Query는 캐시한 데이터를 신선(Fresh)하거나 상한(Stale) 상태로 구분해 관리합니다.<br>캐시된 데이터가 신선하다면 캐시된 데이터를 사용하고, 만약 데이터가 상했다면 서버에 다시 요청해 신선한(새로운) 데이터를 가져옵니다.<br>일종의 데이터 유통기한 정도로 생각하면 이해하기 쉽습니다.</p>
<p><span class="figure">
            <span class="img" style="">
              <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/s3.jpg" alt="신선한 데이터와 상한 데이터를 사과에 비유" title="신선한 데이터와 상한 데이터를 사과에 비유" style="background-color: transparent;" onload="this.parentElement.querySelector(&#39;.hmd-loader&#39;)?.remove();this.style.backgroundColor=&#39;transparent&#39;">
              <span data-src="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/s3.jpg" class="zoom material-symbols-outlined">zoom_out_map</span>
              
            </span>
            <span class="figcaption">신선한 데이터와 상한 데이터를 사과에 비유</span>
          </span></p>
<p>데이터가 상하는 데까지 걸리는 시간은 <code>staleTime</code> 옵션으로 지정할 수 있습니다.<br>그리고 신선한지 상했는지 여부는 <code>isStale</code>로 확인할 수 있습니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-8Vk6OG_" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div>
<div class="code-wrap"><code id="c-8Vk6OG_" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data, isStale } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span> <span class="hljs-comment">// 10초 후 상함. 즉, 10초 동안 신선함.</span>
  })
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>데이터가 {isStale ? '상했어요..' : '신선해요!'}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{JSON.stringify(data)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <div class="caption">화면에서 10초 후를 확인해 보세요!</div></section>
<section class="hmd-section">
<h2 id="h2_설치_및_구성"><a href="https://www.heropy.dev/p/HZaKIE#h2_%EC%84%A4%EC%B9%98_%EB%B0%8F_%EA%B5%AC%EC%84%B1"># </a>설치 및 구성</h2>
<p></p><div class="message-box message-box--message-box" style="border-color: #3b8eed">
                <div class="message-box__icon" style="color: #3b8eed"><span class="material-symbols-outlined">info</span></div>
                <div class="message-box__contents"><p>기본 프로젝트는 <a href="https://www.heropy.dev/p/6iFzkB" target="_blank">React 프로젝트 시작하기 w. Vite</a>를 참고하세요.</p>
</div>
              </div><p></p>
<p>다음과 같이 TanStack Query를 설치합니다.<br>TanStack Query ESLint 플러그인을 사용할 수도 있습니다. </p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--bash">BASH</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-T7a_Gru" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div></div>
<div class="code-wrap"><code id="c-T7a_Gru" class="language-bash hljs">npm i @tanstack/react-query
npm i -D @tanstack/eslint-plugin-query </code></div></pre>
            </div>
            <p>ESLint 플러그인의 권장 규칙을 사용하면, 일반적인 실수를 피하는 데 도움이 됩니다.<br><code>extends</code> 옵션의 배열 아이템으로 <code>plugin:@tanstack/eslint-plugin-query/recommended</code>를 추가합니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/.eslintrc.cjs</div>


              <div class="lang-name lang-name--cjs">CJS</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-fQJxShm" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div></div>
<div class="code-wrap"><code id="c-fQJxShm" class="language-cjs hljs language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">root</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">env</span>: { <span class="hljs-attr">browser</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">es2020</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">extends</span>: [
    <span class="hljs-string">'eslint:recommended'</span>,
    <span class="hljs-string">'plugin:@typescript-eslint/recommended'</span>,
    <span class="hljs-string">'plugin:react-hooks/recommended'</span>,
    <span class="hljs-string">'plugin:@tanstack/eslint-plugin-query/recommended'</span>
  ],
  <span class="hljs-attr">ignorePatterns</span>: [<span class="hljs-string">'dist'</span>, <span class="hljs-string">'.eslintrc.cjs'</span>],
  <span class="hljs-attr">parser</span>: <span class="hljs-string">'@typescript-eslint/parser'</span>,
  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'react-refresh'</span>],
  <span class="hljs-attr">rules</span>: {
    <span class="hljs-string">'react-refresh/only-export-components'</span>: [
      <span class="hljs-string">'warn'</span>,
      { <span class="hljs-attr">allowConstantExport</span>: <span class="hljs-literal">true</span> }
    ],
    <span class="hljs-comment">// TanStack Query 권장 규칙! (plugin:@tanstack/eslint-plugin-query/recommended)</span>
    <span class="hljs-comment">// '@tanstack/query/exhaustive-deps': 'error',</span>
    <span class="hljs-comment">// '@tanstack/query/stable-query-client': 'error',</span>
    <span class="hljs-comment">// '@tanstack/query/no-rest-destructuring': 'warn'</span>
  }
}</code></div></pre>
            </div>
            <div class="caption">ESLint 구성 예시</div><ul>
<li><code>@tanstack/query/exhaustive-deps</code>: 쿼리 함수에서 사용하는 외부 변수는 쿼리 키에 추가하세요!</li><li><code>@tanstack/query/stable-query-client</code>: 애플리케이션에서 하나의 쿼리 클라이언트를 생성해 사용하세요!</li><li><code>@tanstack/query/no-rest-destructuring</code>: 쿼리의 반환에서 나머지 매개변수(<code>...rest</code>)를 사용하지 마세요!</li></ul>
<p>프로젝트 범위를 <code>&lt;QueryClientProvider&gt;</code>로 랩핑하고, 사용할 <code>queryClient</code> 인스턴스를 연결합니다.<br>이제 사용할 준비가 끝났습니다!</p>
<div class="pre-wrap has-path">
              <div class="path">/src/App.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-XJEzDCC" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div>
<div class="code-wrap"><code id="c-XJEzDCC" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">QueryClient</span>,
  <span class="hljs-title class_">QueryClientProvider</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">DelayedData</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'~/components/DelayedData'</span>

<span class="hljs-keyword">const</span> queryClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryClient</span>()

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryClientProvider</span> <span class="hljs-attr">client</span>=<span class="hljs-string">{queryClient}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DelayedData</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryClientProvider</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h2 id="h2_핵심_기능"><a href="https://www.heropy.dev/p/HZaKIE#h2_%ED%95%B5%EC%8B%AC_%EA%B8%B0%EB%8A%A5"># </a>핵심 기능</h2>
</section>
<section class="hmd-section">
<h3 id="h3_useQuery"><a href="https://www.heropy.dev/p/HZaKIE#h3_useQuery"># </a>useQuery</h3>
<p>가장 기본적인 쿼리 훅으로, 컴포넌트에서 데이터를 가져올 때 사용합니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-S7NkD_G" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div></div>
<div class="code-wrap"><code id="c-S7NkD_G" class="language-ts hljs language-typescript"><span class="hljs-keyword">const</span> 반환 = useQuery&lt;데이터타입&gt;(옵션)</code></div></pre>
            </div>
            <p>다음 예제의 <a href="https://www.heropy.dev/p/71PGfA" target="_blank">지연 응답 API</a>는 <code>t</code> 파라미터 값의 시간이 지난 후 응답합니다.<br>응답 데이터는 간단한 메시지(<code>message</code>)와 응답 시간(<code>time</code>)을 포함합니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-nl8n2UV" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div>
<div class="code-wrap"><code id="c-nl8n2UV" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ResponseValue</span> = {
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span> <span class="hljs-comment">// 10초</span>
  })
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h4 id="h4_옵션"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%B5%EC%85%98"># </a>옵션</h4>
<p>다음은 알파벳 순으로 정렬한 목록입니다.</p>
<div class="table-wrap">
            <table>
              <thead><tr>
<th>옵션</th>
<th>설명</th>
<th>기본값</th>
<th>타입</th>
</tr>
</thead>
              <tbody><tr>
<td><code>enabled</code></td>
<td>쿼리 자동 실행 여부.<br><code>false</code>인 경우, 대기 상태(<code>pending</code>)로 시작.</td>
<td><code>true</code></td>
<td><code>boolean | (query: Query) =&gt; boolean</code></td>
</tr>
<tr>
<td><code>gcTime</code></td>
<td>비활성 캐시 데이터(Inactive)가 메모리에 남아 있는 시간(ms).</td>
<td><code>5 * 60 * 1000</code></td>
<td><code>number | Infinity</code></td>
</tr>
<tr>
<td><code>initialData</code></td>
<td>쿼리가 생성되거나 캐시되기 전에 사용하는 초기 데이터.</td>
<td></td>
<td><code>TData | () =&gt; TData</code></td>
</tr>
<tr>
<td><code>initialDataUpdatedAt</code></td>
<td>초기 데이터의 마지막 업데이트 시간 지정.</td>
<td></td>
<td><code>number | (() =&gt; number | undefined)</code></td>
</tr>
<tr>
<td><code>meta</code></td>
<td>활용할 추가 정보를 지정.</td>
<td></td>
<td><code>Record&lt;string, unknown&gt;</code></td>
</tr>
<tr>
<td><code>networkMode</code></td>
<td>네트워크 모드 지정.</td>
<td><code>'online'</code></td>
<td><code>'online' | 'always' | 'offlineFirst'</code></td>
</tr>
<tr>
<td><code>notifyOnChangeProps</code></td>
<td>컴포넌트 리랜더링을 위해 변경 여부를 확인할 쿼리의 특정 반환 속성 목록.<br>예시: <code>['data', 'error']</code></td>
<td>컴포넌트에서 접근한 반환 속성</td>
<td><code>string[] | "all" | (() =&gt; string[] | "all")</code></td>
</tr>
<tr>
<td><code>placeholderData</code></td>
<td>대기(Pending) 중인 상태에서 사용할 데이터.</td>
<td></td>
<td><code>TData | (previousValue: TData | undefined, previousQuery: Query | undefined) =&gt; TData</code></td>
</tr>
<tr>
<td><code>queryClient</code></td>
<td>커스텀 쿼리 클라인트 연결</td>
<td></td>
<td><code>QueryClient</code></td>
</tr>
<tr>
<td><code>queryFn</code></td>
<td>데이터를 가져오는 쿼리 함수로, 꼭 데이터를 반환하거나 오류를 던져야 함.<br>기본 쿼리 함수가 지정되지 않은 경우에만 필수 옵션!</td>
<td></td>
<td><code>(context: QueryFunctionContext) =&gt; Promise&lt;TData&gt;</code></td>
</tr>
<tr>
<td><code>queryKey</code></td>
<td>고유한 쿼리 키(식별자).<br>필수 옵션!</td>
<td></td>
<td><code>unknown[]</code></td>
</tr>
<tr>
<td><code>queryKeyHashFn</code></td>
<td>쿼리 키를 해시하는 함수.</td>
<td></td>
<td><code>(queryKey: QueryKey) =&gt; string</code></td>
</tr>
<tr>
<td><code>refetchInterval</code></td>
<td>데이터 자동 갱신(다시 가져오기)의 시간 간격(ms).</td>
<td></td>
<td><code>number | false | ((query: Query) =&gt; number | false | undefined)</code></td>
</tr>
<tr>
<td><code>refetchIntervalInBackground</code></td>
<td>백그라운드에서 데이터 자동 갱신 여부.</td>
<td><code>false</code></td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>refetchOnMount</code></td>
<td><code>useQuery</code> 연결 시 데이터 갱신 여부.<br>- <code>true</code>: 연결 시 데이터가 상한 경우만 갱신.<br>- <code>always</code>: 연결 시 데이터 항상 갱신.</td>
<td><code>true</code></td>
<td><code>boolean | "always" | ((query: Query) =&gt; boolean | "always")</code></td>
</tr>
<tr>
<td><code>refetchOnReconnect</code></td>
<td>네트워크 재연결 시 데이터 갱신 여부.</td>
<td><code>true</code></td>
<td><code>boolean | "always" | ((query: Query) =&gt; boolean | "always")</code></td>
</tr>
<tr>
<td><code>refetchOnWindowFocus</code></td>
<td>브라우저 화면 포커스 시 데이터 갱신 여부.</td>
<td><code>true</code></td>
<td><code>boolean | "always" | ((query: Query) =&gt; boolean | "always")</code></td>
</tr>
<tr>
<td><code>retry</code></td>
<td>쿼리 실패 시 재시도 횟수.</td>
<td><code>3</code></td>
<td><code>boolean | number | (failureCount: number, error: TError) =&gt; boolean</code></td>
</tr>
<tr>
<td><code>retryDelay</code></td>
<td>재시도 시간 간격(ms).</td>
<td></td>
<td><code>number | (retryAttempt: number, error: TError) =&gt; number</code></td>
</tr>
<tr>
<td><code>retryOnMount</code></td>
<td><code>useQuery</code> 연결 시 재시도 여부.</td>
<td><code>true</code></td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>select</code></td>
<td>가져온 데이터를 변형(선택)하는 함수.</td>
<td></td>
<td><code>(data: TData) =&gt; unknown</code></td>
</tr>
<tr>
<td><code>staleTime</code></td>
<td>데이터가 상하는데 걸리는 시간(ms).</td>
<td><code>0</code></td>
<td><code>number | ((query: Query) =&gt; number)</code></td>
</tr>
<tr>
<td><code>structuralSharing</code></td>
<td>데이터 구조의 재사용을 최적화해, 불변성을 유지하고 불필요한 리렌더링 방지.</td>
<td><code>true</code></td>
<td><code>boolean | (oldData: unknown | undefined, newData: unknown) =&gt; unknown</code></td>
</tr>
<tr>
<td><code>throwOnError</code></td>
<td>쿼리 실패 시 오류를 던질지 여부.</td>
<td><code>undefined</code></td>
<td><code>undefined | boolean | (error: TError, query: Query) =&gt; boolean</code></td>
</tr>

            </tbody></table>
          </div></section>
<section class="hmd-section">
<h5 id="h5_queryKey"><a href="https://www.heropy.dev/p/HZaKIE#h5_queryKey"># </a>queryKey</h5>
<p>쿼리 키(<code>queryKey</code>)는 쿼리를 식별하는 고유한 값으로, 배열 형태로 지정합니다.<br>다중 아이템 쿼리 키를 사용할 때는, 아이템의 순서가 중요합니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-bMNxkrI" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div>
<div class="code-wrap"><code id="c-bMNxkrI" class="language-ts hljs language-typescript"><span class="hljs-comment">// 단일 아이템 쿼리 키</span>
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>] })

<span class="hljs-comment">// 다중 아이템 쿼리 키</span>
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>, <span class="hljs-number">123</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> }] })

<span class="hljs-comment">// 서로 같은 쿼리</span>
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>, <span class="hljs-number">123</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> }] })
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>, <span class="hljs-number">123</span>, { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }] })

<span class="hljs-comment">// 서로 다른 쿼리</span>
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>, <span class="hljs-number">123</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> }] })
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>, <span class="hljs-number">123</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> }] })
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>] })
<span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-number">123</span>, <span class="hljs-string">'world'</span>, { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> }, <span class="hljs-string">'hello'</span>] })</code></div></pre>
            </div>
            <p>다음 예제에서 <code>DelayedData</code> 컴포넌트의 <code>wait</code> Prop의 값이 다르면, 각각 별개의 요청을 전송합니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-pDHI9Iy" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div>
<div class="code-wrap"><code id="c-pDHI9Iy" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ResponseValue</span> = {
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params">{ wait = <span class="hljs-number">1000</span> }: { wait: <span class="hljs-built_in">number</span> }</span>) {
  <span class="hljs-keyword">const</span> { data } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>, wait],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://api.heropy.dev/v0/delay?t=<span class="hljs-subst">${wait}</span>`</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
  })
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></div></pre>
            </div>
            <div class="pre-wrap has-path">
              <div class="path">/src/App.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-Bo6gNCs" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div></div>
<div class="code-wrap"><code id="c-Bo6gNCs" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">QueryProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./queryProvider'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">DelayedData</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/DelayedData'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryProvider</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DelayedData</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DelayedData</span> <span class="hljs-attr">wait</span>=<span class="hljs-string">{2000}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DelayedData</span> <span class="hljs-attr">wait</span>=<span class="hljs-string">{3000}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryProvider</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>기본적으로 쿼리 함수(<code>queryFn</code>)에서 사용하는 변수는 쿼리 키에 포함돼야 합니다.<br>그러면 변수가 변경될 때마다 자동으로 다시 가져올 수 있습니다.<br>그런데 만약 변수와는 상관없이 항상 하나의 쿼리로 처리하고 싶다면, ESLint <code>exhaustive-deps</code> 규칙을 비활성화할 수 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c--UJUI3m" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  line--error">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div></div>
<div class="code-wrap"><code id="c--UJUI3m" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params">{ wait = <span class="hljs-number">1000</span> }: { wait: <span class="hljs-built_in">number</span> }</span>) {
  <span class="hljs-keyword">const</span> { data } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-comment">// eslint-disable-next-line @tanstack/query/exhaustive-deps</span>
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>], <span class="hljs-comment">// ESLint Error - The following dependencies are missing in your queryKey: wait</span>
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://api.heropy.dev/v0/delay?t=<span class="hljs-subst">${wait}</span>`</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
  })
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></div></pre>
            </div>
            <p>권장하지는 않지만, 프로젝트 전체에서 규칙을 비활성화할 수도 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/.eslintrc.cjs</div>


              <div class="lang-name lang-name--cjs">CJS</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-z4XOJpt" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div></div>
<div class="code-wrap"><code id="c-z4XOJpt" class="language-cjs hljs language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">rules</span>: {
    <span class="hljs-string">'@tanstack/query/exhaustive-deps'</span>: <span class="hljs-string">'off'</span>
  }
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h5 id="h5_queryFn"><a href="https://www.heropy.dev/p/HZaKIE#h5_queryFn"># </a>queryFn</h5>
<p>쿼리 함수(<code>queryFn</code>)는 데이터를 가져오는 비동기 함수로, 꼭 데이터를 반환하거나 오류를 던져야 합니다.<br>던져진 오류는 반환되는 <code>error</code> 객체로 확인할 수 있습니다.<br><code>error</code>는 기본적으로 <code>null</code>입니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-efFYvps" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div></div>
<div class="code-wrap"><code id="c-efFYvps" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ResponseValue</span> = {
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data, error } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-keyword">if</span> (!data.<span class="hljs-property">time</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'문제가 발생했습니다!'</span>)
      }
      <span class="hljs-keyword">return</span> data
    },
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>,
    <span class="hljs-attr">retry</span>: <span class="hljs-number">1</span>
  })
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      {data &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{JSON.stringify(data)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      {error &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{error.message}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h5 id="h5_select"><a href="https://www.heropy.dev/p/HZaKIE#h5_select"># </a>select</h5>
<p>선택 함수(<code>select</code>)를 사용하면 가져온 데이터를 변형(선택)할 수 있습니다.<br>쿼리 함수가 반환하는 데이터를 인수로 받아 선택 함수에서 처리하고 반환하면 최종 데이터가 됩니다.<br>최종 데이터의 타입은 <code>useQuery</code>의 3번째 제네릭 타입으로 선언할 수 있습니다.<br>2번째는 오류 타입(<code>Error</code>)입니다.</p>
<p>다음 예제의 사용한 API는 <a href="https://www.heropy.dev/p/5PlGxB" target="_blank">사용자 정보 API</a>입니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/UserNames.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-3Z9fTK6" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div></div>
<div class="code-wrap"><code id="c-3Z9fTK6" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Users</span> = <span class="hljs-title class_">User</span>[]
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">UserNames</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data } = useQuery&lt;<span class="hljs-title class_">Users</span>, <span class="hljs-title class_">Error</span>, <span class="hljs-built_in">string</span>[]&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/users'</span>)
      <span class="hljs-keyword">const</span> { users } = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-keyword">return</span> users
    },
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">name</span>)
  })
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>User Names<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>{data?.map((name, i) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{i}</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>)}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>쿼리 함수를 따로 선언해 제공하면, 선택 함수를 통한 최종 데이터의 타입을 추론할 수 있습니다.<br>다음 예제에서 쿼리 함수의 반환은 <code>Users</code> 타입이고, 최종 데이터(선택 함수의 반환)은 <code>string[]</code> 타입으로 추론됩니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/UserNames.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-PJp5RCi" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div></div>
<div class="code-wrap"><code id="c-PJp5RCi" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">queryFn</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Users</span>&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/users'</span>)
  <span class="hljs-keyword">const</span> { users } = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
  <span class="hljs-keyword">return</span> users
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">UserNames</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// data는 string[] 타입으로 추론</span>
  <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>],
    queryFn,
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">name</span>)
  })
  <span class="hljs-comment">// ...</span>
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h5 id="h5_placeholderData"><a href="https://www.heropy.dev/p/HZaKIE#h5_placeholderData"># </a>placeholderData</h5>
<p>새로운 데이터를 가져오는 과정에서는 쿼리가 무효화되어 일시적으로 데이터가 없는 상태(<code>undefined</code>)가 되면 데이터 출력 화면이 화면이 깜빡일 수 있습니다.<br>이런 현상을 방지하기 위해 <code>placeholderData</code> 옵션을 사용하면, 쿼리 함수가 호출되는 대기 상태(Pending)에서 임시로 표시할 데이터를 미리 지정할 수 있습니다.<br><code>placeholderData</code> 옵션에는 함수를 지정할 수 있으며, 이 함수는 새로운 데이터를 가져오기 직전의 이전(Previous) 데이터를 받을 수 있어서 이를 반환해 임시 데이터로 사용할 수 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/Movies.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-ldEUgF4" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div></div>
<div class="code-wrap"><code id="c-ldEUgF4" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Movies</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// ...</span>
  
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: movies } = useQuery&lt;<span class="hljs-title class_">Movie</span>[]&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'movies'</span>, searchText], <span class="hljs-comment">// 검색어</span>
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://omdbapi.com?apikey=7035c60c&amp;s=<span class="hljs-subst">${searchText}</span>`</span>)
      <span class="hljs-keyword">const</span> { <span class="hljs-title class_">Search</span>: movies } = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-keyword">return</span> movies
    },
    <span class="hljs-attr">placeholderData</span>: <span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev
  })
  
  <span class="hljs-comment">// ...</span>
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h5 id="h5_structuralSharing"><a href="https://www.heropy.dev/p/HZaKIE#h5_structuralSharing"># </a>structuralSharing</h5>
<p><code>structuralSharing</code> 옵션으로, 새로운 데이터를 가져올 때 이전 데이터와 비교해 변경되지 않은 부분은 이전 데이터를 재사용하도록 지정.할 수 있습니다.<br>이를 통해 메모리 사용량을 최적화하고 불필요한 리렌더링을 방지할 수 있습니다.</p>
<p>다음 예제와 같이 중첩된 객체의 이전 데이터와 새로운 데이터가 있습니다.<br><code>structuralSharing</code> 옵션이 <code>true</code>이면 변경된 부분만 새롭게 업데이트하고 변경되지 않은 부분은 이전 데이터의 참조를 재사용합니다.<br>반대로 옵션이 <code>false</code>이면, 모든 객체가 새로운 참조로 생성됩니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--ts">TS</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-E8z5UW7" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div></div>
<div class="code-wrap"><code id="c-E8z5UW7" class="language-ts hljs language-typescript"><span class="hljs-comment">// 이전 데이터</span>
<span class="hljs-keyword">const</span> prevUser = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">'abc123'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Neo'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">contact</span>: {
    <span class="hljs-attr">email</span>: <span class="hljs-string">'neo@gmail.com'</span>,
    <span class="hljs-attr">address</span>: {
      <span class="hljs-attr">country</span>: <span class="hljs-string">'Korea'</span>,
      <span class="hljs-attr">city</span>: <span class="hljs-string">'Seoul'</span>
    }
  }
}

<span class="hljs-comment">// 새로운 데이터</span>
<span class="hljs-keyword">const</span> newUser = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">'abc123'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Neo'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">contact</span>: {
    <span class="hljs-attr">email</span>: <span class="hljs-string">'neo@gmail.com'</span>,
    <span class="hljs-attr">address</span>: {
      <span class="hljs-attr">country</span>: <span class="hljs-string">'Korea'</span>,
      <span class="hljs-attr">city</span>: <span class="hljs-string">'Suwon'</span> <span class="hljs-comment">// 변경된 부분!</span>
    }
  }
}</code></div></pre>
            </div>
            <p>때로는 <code>structuralSharing</code> 옵션을 <code>false</code>로 지정.하는 것이 더 유리할 수 있습니다.<br>예를 들어, 매우 큰 중첩 객체를 다루는 경우 구조적인 비교 자체가 성능에 부담이 될 수 있습니다.<br>또한 데이터가 항상 새로운 참조여야 하거나 데이터가 단순해 깊은 비교가 필요하지 않은 경우에도 <code>false</code>로 지정.하는 게 좋습니다.</p>
</section>
<section class="hmd-section">
<h5 id="h5_meta"><a href="https://www.heropy.dev/p/HZaKIE#h5_meta"># </a>meta</h5>
<p><code>meta</code> 속성은 쿼리에 대한 추가 정보를 제공할 수 있습니다.</p>
<p>예를 들어, 쿼리 함수에서 발생한 오류 메시지 출력을 전역적으로 처리할 수 있습니다.<br>쿼리 클라이언트 생성의 <code>queryCache</code> 옵션에서 호출 쿼리의 추가 정보(<code>meta</code>)를 얻을 수 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/main.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-gH9h9gP" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div></div>
<div class="code-wrap"><code id="c-gH9h9gP" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">QueryClient</span>,
  <span class="hljs-title class_">QueryClientProvider</span>,
  <span class="hljs-title class_">QueryCache</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">const</span> queryClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryClient</span>({
  <span class="hljs-attr">queryCache</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryCache</span>({
    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">_error, query</span>) =&gt;</span> {
      <span class="hljs-title function_">alert</span>(query.<span class="hljs-property">meta</span>?.<span class="hljs-property">myErrorMessage</span>) <span class="hljs-comment">// 오류 메시지 출력!</span>
    }
  })
})

<span class="hljs-comment">// ...</span></code></div></pre>
            </div>
            <div class="pre-wrap has-path">
              <div class="path">/src/components/Movies.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-Q1hEm-K" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div></div>
<div class="code-wrap"><code id="c-Q1hEm-K" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Movies</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// ...</span>
  
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: movies } = useQuery&lt;<span class="hljs-title class_">Movie</span>[]&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'movies'</span>, searchText], <span class="hljs-comment">// 검색어</span>
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://omdbapi.com?apikey=7035c60c&amp;s=<span class="hljs-subst">${searchText}</span>`</span>)
      <span class="hljs-keyword">const</span> { <span class="hljs-title class_">Search</span>: movies } = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-keyword">return</span> movies
    },
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">myErrorMessage</span>: <span class="hljs-string">'영화를 검색할 수 없어요!'</span>
    }
  })
  
  <span class="hljs-comment">// ...</span>
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h4 id="h4_반환"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EB%B0%98%ED%99%98"># </a>반환</h4>
<p>다음은 알파벳 순으로 정렬한 목록입니다.</p>
<div class="table-wrap">
            <table>
              <thead><tr>
<th>반환 속성</th>
<th>설명</th>
<th>타입</th>
</tr>
</thead>
              <tbody><tr>
<td><code>data</code></td>
<td>성공적으로 가져온 데이터.</td>
<td><code>TData</code></td>
</tr>
<tr>
<td><code>dataUpdatedAt</code></td>
<td>최근에 데이터를 성공적으로 가져온 시간(유닉스 타임스탬프).</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>error</code></td>
<td>오류가 발생했을 때의 오류 객체.<br>오류가 발생하지 않았다면 <code>null</code>.</td>
<td><code>null | TError</code></td>
</tr>
<tr>
<td><code>errorUpdateCount</code></td>
<td>모든 오류의 횟수.</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>errorUpdatedAt</code></td>
<td>최근에 오류가 발생한 시간(유닉스 타임스탬프).</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>failureCount</code></td>
<td>쿼리의 실패 횟수.<br>쿼리가 실패할 때마다 증가하고 쿼리가 성공하면 <code>0</code>으로 재지정.</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>failureReason</code></td>
<td>쿼리의 재시도 실패 이유.<br>쿼리가 성공하면 <code>null</code>로 재지정.</td>
<td><code>null | TError</code></td>
</tr>
<tr>
<td><code>fetchStatus</code></td>
<td><code>'fetching'</code>: 쿼리 함수가 실행 중.(첫 대기 및 백그라운드 다시 가져오기 포함, <code>isFetching</code>)<br><code>'paused'</code>: 쿼리 함수의 가져오기가 일시 중단됨.(<code>isPaused</code>)<br><code>'idle'</code>: 쿼리 함수가 동작 중이지 않음.</td>
<td><code>'fetching'</code> | <code>'paused'</code> | <code>'idle'</code></td>
</tr>
<tr>
<td><code>isError</code></td>
<td>쿼리 함수에서의 오류 발생 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isFetched</code></td>
<td>쿼리의 첫 데이터 가져오기가 완료되었는지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isFetchedAfterMount</code></td>
<td>컴포넌트 연결 후 가져오기가 완료되었는지 여부.<br>컴포넌트 연결 전에 캐시된 데이터를 표시하지 않는 용도로 사용.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isFetching</code></td>
<td>쿼리 함수가 실행 중.(첫 대기 및 백그라운드 다시 가져오기 포함)</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isLoading</code></td>
<td>쿼리 함수의 첫 번째 가져오기가 진행 중.<br><code>isFetching &amp;&amp; isPending</code>와 같음.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isLoadingError</code></td>
<td>쿼리 함수의 첫 번째 가져오기 중 실패 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isPaused</code></td>
<td>쿼리 가져오기가 일시 중단됨.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isPending</code></td>
<td>캐시된 데이터가 없고 쿼리가 아직 완료되지 않은 상태.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isPlaceholderData</code></td>
<td>표시된 데이터가 대체 데이터인지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isRefetchError</code></td>
<td>쿼리가 다시 가져오기를 시도하는 중에 실패했는지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isRefetching</code></td>
<td>백그라운드에서 다시 가져오기가 진행 중인지의 여부.<br><code>isFetching &amp;&amp; !isPending</code>와 같음.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isStale</code></td>
<td>캐시된 데이터가 무효화(Invalidated)되거나 <code>staleTime</code>이 경과된 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isSuccess</code></td>
<td>쿼리 데이터를 성공적으로 가져왔는지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>refetch</code></td>
<td>데이터를 새롭게 다시 가져오는 함수.<br><code>throwOnError: true</code> 옵션을 사용해야 오류가 발생.</td>
<td><code>(options: { throwOnError: boolean, cancelRefetch: boolean }) =&gt; Promise&lt;UseQueryResult&gt;</code></td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>'pending'</code>: 캐시된 데이터가 없고 아직 완료되지 않은 상태.(<code>isPending</code>)<br><code>'error'</code>: 오류가 발생한 상태.(<code>isError</code>)<br><code>'success'</code>: 데이터를 성공적으로 가져온 상태.(<code>isSuccess</code>)</td>
<td><code>'pending' | 'error' | 'success'</code></td>
</tr>

            </tbody></table>
          </div></section>
<section class="hmd-section">
<h5 id="h5_상태_확인"><a href="https://www.heropy.dev/p/HZaKIE#h5_%EC%83%81%ED%83%9C_%ED%99%95%EC%9D%B8"># </a>상태 확인</h5>
<p><code>isFetching</code>은 쿼리 함수(<code>queryFn</code>)가 실행 중인지의 여부로, 데이터를 가져오는 중을 나타냅니다.</p>
<p><code>isPending</code>은 캐시된 데이터가 없고 쿼리가 아직 완료되지 않은 상태의 여부로, <code>initialData</code> 혹은 <code>placeholderData</code> 옵션으로 데이터를 제공하면 출력 대기(Pending)가 필요하지 않으므로 <code>false</code>를 반환합니다.<br><code>enabled</code> 옵션을 <code>false</code>로 지정.하면, 쿼리가 대기 상태로 시작하므로 <code>isPending</code>는 <code>true</code>를 반환합니다.</p>
<p><code>isLoading</code>은 <code>isFetching &amp;&amp; isPending</code>와 같은 의미로, 쿼리의 첫 번째 가져오기가 진행 중인 경우를 나타냅니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-vxqWiYR" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div></div>
<div class="code-wrap"><code id="c-vxqWiYR" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data, isFetching, isPending, isLoading } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
  })
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>isFetching: {JSON.stringify(isFetching)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>isPending: {JSON.stringify(isPending)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>isLoading: {JSON.stringify(isLoading)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>아래의 <a href="https://www.heropy.dev/p/HZaKIE#h5_%EB%8B%A4%EC%8B%9C_%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0">다시 가져오기</a> 주제에서 설명하는 <code>refetch</code> 함수를 활용하면, 각 상태를 좀 더 쉽게 이해할 수 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-q2vPetu" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div></div>
<div class="code-wrap"><code id="c-q2vPetu" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ResponseValue</span> = {
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data, isStale, isFetching, isLoading, refetch } =
    useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
      <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
      <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
      <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
    })
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      {isLoading ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>로딩 중..<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ) : (
        <span class="hljs-tag">&lt;&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>데이터가 상했나요?: {JSON.stringify(isStale)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isFetching}</span>
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> refetch()}&gt;
            {isFetching ? '데이터 가져오는 중..' : '데이터 다시 가져오기!'}
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
      )}
    &lt;/&gt;
  )
}
</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h5 id="h5_다시_가져오기"><a href="https://www.heropy.dev/p/HZaKIE#h5_%EB%8B%A4%EC%8B%9C_%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0"># </a>다시 가져오기</h5>
<p><code>refetch</code> 함수를 사용하면, 데이터를 항상 새롭게 다시 가져올 수 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-XEdpdBm" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div></div>
<div class="code-wrap"><code id="c-XEdpdBm" class="language-ts hljs language-typescript"><span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data, isStale, refetch } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
  })
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>데이터가 상했나요?: {JSON.stringify(isStale)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> refetch()}&gt;데이터 가져오기!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>만약 신선도(<code>staleTime</code>) 기반으로 데이터를 가져오려면, <code>queryClient.fetchQuery()</code> 메소드를 사용할 수 있습니다.<br>주의할 부분은, <code>queryKey</code>와 <code>staleTime</code>를 기존 쿼리와 동일하게 제공해야 합니다.(<code>queryFn</code> 생략 가능)</p>
<p></p><div class="message-box message-box--message-box" style="border-color: #3b8eed">
                <div class="message-box__icon" style="color: #3b8eed"><span class="material-symbols-outlined">info</span></div>
                <div class="message-box__contents"><p><code>queryOptions</code> 함수를 사용해 옵션을 미리 정의하고 재사용할 수 있습니다.</p>
</div>
              </div><p></p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-LaYejmB" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div></div>
<div class="code-wrap"><code id="c-LaYejmB" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery, useQueryClient, queryOptions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">const</span> options = queryOptions&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
  <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
  <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>()
  <span class="hljs-keyword">const</span> { data, isStale } = <span class="hljs-title function_">useQuery</span>(options)
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> queryClient.<span class="hljs-title function_">fetchQuery</span>(options)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data) <span class="hljs-comment">// 캐시된 데이터 or 새로 가져온 데이터</span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>데이터가 상했나요?: {JSON.stringify(isStale)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{fetchData}</span>&gt;</span>데이터 가져오기!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>만약 캐시된 데이터가 필요하다면, <code>queryClient.getQueryData()</code> 메소드를 사용할 수 있습니다.<br>데이터가 상해도 새로 가져오지 않고, 캐시된 데이터만 반환합니다.<br>캐시된 데이터가 없는 경우, <code>undefined</code>를 반환합니다.</p>
<p></p><div class="message-box message-box--message-box" style="border-color: #3b8eed">
                <div class="message-box__icon" style="color: #3b8eed"><span class="material-symbols-outlined">info</span></div>
                <div class="message-box__contents"><p><code>queryClient.getQueryData()</code> 대신 <code>queryClient.ensureQueryData()</code> 메소드를 사용하면, 캐시된 데이터가 없는 경우 <code>undefined</code>를 반환하지 않고, 자동으로 <code>queryClient.fetchQuery()</code> 메소드를 호출해 데이터를 가져옵니다.</p>
</div>
              </div><p></p>
<p><code>useQueryClient</code> 훅을 사용해 <code>queryClient</code> 객체를 가져온 후, <code>getQueryData</code> 메소드를 사용합니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-_IeVCRb" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div></div>
<div class="code-wrap"><code id="c-_IeVCRb" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery, useQueryClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>()
  <span class="hljs-keyword">const</span> { data, isStale } = useQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>)).<span class="hljs-title function_">json</span>(),
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
  })
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCachedData</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> data = queryClient.<span class="hljs-title function_">getQueryData</span>([<span class="hljs-string">'delay'</span>])
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data) <span class="hljs-comment">// 캐시된 데이터 or undefined</span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>데이터가 상했나요?: {JSON.stringify(isStale)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{getCachedData}</span>&gt;</span>데이터 가져오기!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h3 id="h3_useInfiniteQuery"><a href="https://www.heropy.dev/p/HZaKIE#h3_useInfiniteQuery"># </a>useInfiniteQuery</h3>
<p>'더 보기' 버튼으로 추가 데이터를 더 가져오거나 더 나아가 무한 스크롤 기능은 쉽게 찾아볼 수 있는 일반적인 UI입니다.<br>TanStack Query는 이런 UI 개발을 위해, <code>useInfiniteQuery</code> 훅을 제공합니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-F5Z7pEd" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div></div>
<div class="code-wrap"><code id="c-F5Z7pEd" class="language-ts hljs language-typescript"><span class="hljs-keyword">const</span> 반환 = useInfiniteQuery&lt;페이지타입&gt;(옵션)</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h4 id="h4_옵션_17"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%B5%EC%85%98_17"># </a>옵션</h4>
<p><code>useInfiniteQuery</code>는 앞서 살펴본 <code>useQuery</code>의 모든 옵션을 사용할 수 있으며, 추가로 다음의 옵션들을 사용할 수 있습니다.<br>다음은 알파벳 순으로 정렬한 목록입니다.</p>
<div class="table-wrap">
            <table>
              <thead><tr>
<th>옵션</th>
<th>설명</th>
<th>기본값</th>
<th>타입</th>
</tr>
</thead>
              <tbody><tr>
<td><code>getNextPageParam</code></td>
<td>새로운 다음 페이지를 가져오면, 다음 페이지의 정보로 호출되는 함수.<br>필수 옵션!<br>다음 페이지 번호를 반환해야 함!<br>다음 페이지가 없으면, <code>undefined</code> 또는 <code>null</code>을 반환해야 함!</td>
<td></td>
<td><code>(lastPage: TPage, allPages: TPage[], lastPageParam: number, allPageParams: number[]) =&gt; TPageParam | undefined | null</code></td>
</tr>
<tr>
<td><code>getPreviousPageParam</code></td>
<td>새로운 이전 페이지를 가져오면, 이전 페이지의 정보로 호출되는 함수.<br>이전 페이지 번호를 반환해야 함!<br>이전 페이지가 없으면, <code>undefined</code> 또는 <code>null</code>을 반환해야 함!</td>
<td></td>
<td><code>(firstPage: TPage, allPages: TPage[], firstPageParam: number, allPageParams: number[]) =&gt; TPageParam | undefined | null</code></td>
</tr>
<tr>
<td><code>initialPageParam</code></td>
<td>첫 번째 페이지의 번호.<br>필수 옵션!</td>
<td></td>
<td><code>TPageParam</code></td>
</tr>
<tr>
<td><code>maxPages</code></td>
<td>저장 및 출력할 최대 페이지의 수.<br>페이지가 지나치게 많은 경우에 유용.</td>
<td><code>Infinite</code></td>
<td><code>number</code></td>
</tr>

            </tbody></table>
          </div></section>
<section class="hmd-section">
<h4 id="h4_반환_18"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EB%B0%98%ED%99%98_18"># </a>반환</h4>
<p>그리고 역시 <code>useQuery</code>의 모든 반환 속성을 사용할 수 있으며, 추가로 다음의 반환 속성들을 사용할 수 있습니다.<br>다음은 알파벳 순으로 정렬한 목록입니다.</p>
<div class="table-wrap">
            <table>
              <thead><tr>
<th>반환 속성</th>
<th>설명</th>
<th>타입</th>
</tr>
</thead>
              <tbody><tr>
<td><code>fetchNextPage</code></td>
<td>다음 페이지를 가져오는 함수.</td>
<td><code>(options?: FetchNextPageOptions) =&gt; Promise&lt;UseInfiniteQueryResult&gt;</code></td>
</tr>
<tr>
<td><code>fetchPreviousPage</code></td>
<td>이전 페이지를 가져오는 함수.</td>
<td><code>(options?: FetchPreviousPageOptions) =&gt; Promise&lt;UseInfiniteQueryResult&gt;</code></td>
</tr>
<tr>
<td><code>hasNextPage</code></td>
<td>다음 페이지가 있는지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>hasPreviousPage</code></td>
<td>이전 페이지가 있는지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isFetchingNextPage</code></td>
<td>다음 페이지를 가져오는 중인지의 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isFetchingPreviousPage</code></td>
<td>이전 페이지를 가져오는 중인지의 여부.</td>
<td><code>boolean</code></td>
</tr>

            </tbody></table>
          </div></section>
<section class="hmd-section">
<h4 id="h4_예제"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%88%EC%A0%9C"># </a>예제</h4>
<p>다음은 사용자가 입력한 영화 제목으로 영화 목록을 가져와 출력하고, '더 보기' 버튼을 선택해 추가 영화 목록을 가져올 수 있는 <code>useInfiniteQuery</code> 휵의 이해를 돕는 간단한 예제입니다.<br>쿼리 함수에서 반환하는 데이터는 <code>data.pages</code> 배열에 저장되는 것에 주의하세요.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/MovieList.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-cbtXUYG" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div><div>49</div><div>50</div><div>51</div><div>52</div><div>53</div><div>54</div><div>55</div><div>56</div><div>57</div><div>58</div><div>59</div><div>60</div><div>61</div><div>62</div><div>63</div><div>64</div><div>65</div><div>66</div><div>67</div><div>68</div><div>69</div><div>70</div><div>71</div><div>72</div><div>73</div><div>74</div><div>75</div><div>76</div><div>77</div><div>78</div><div>79</div><div>80</div><div>81</div><div>82</div><div>83</div><div>84</div><div>85</div><div>86</div><div>87</div><div>88</div><div>89</div><div>90</div><div>91</div><div>92</div><div>93</div><div>94</div><div>95</div><div>96</div><div>97</div><div>98</div><div>99</div><div>100</div><div>101</div><div>102</div><div>103</div><div>104</div></div>
<div class="code-wrap"><code id="c-cbtXUYG" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useInfiniteQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Page</span> {
  <span class="hljs-title class_">Search</span>: <span class="hljs-title class_">Movie</span>[] <span class="hljs-comment">// 검색된 영화 목록</span>
  <span class="hljs-attr">totalResults</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// 검색된 모든 결과의 수</span>
  <span class="hljs-title class_">Response</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// 'True' or 'False'</span>
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Movie</span> {
  <span class="hljs-title class_">Title</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-title class_">Year</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">imdbID</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-title class_">Type</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-title class_">Poster</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MovieList</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [searchText, setSearchText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> [queryText, setQueryText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)

  <span class="hljs-keyword">const</span> {
    data, <span class="hljs-comment">// 가져온 데이터</span>
    isLoading, <span class="hljs-comment">// 첫 페이지 가져오는 중</span>
    isFetching, <span class="hljs-comment">// 다음 페이지 가져오는 중</span>
    isFetched, <span class="hljs-comment">// 첫 페이지 가져오기 완료</span>
    hasNextPage, <span class="hljs-comment">// 다음 페이지가 있는지 여부</span>
    fetchPreviousPage, <span class="hljs-comment">// 이전 페이지 가져오기 함수</span>
    fetchNextPage <span class="hljs-comment">// 다음 페이지 가져오기 함수</span>
  } = useInfiniteQuery&lt;<span class="hljs-title class_">Page</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'movies'</span>, queryText], <span class="hljs-comment">// 검색어로 쿼리 키 생성!</span>
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> ({ pageParam }) =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://omdbapi.com/?apikey=7035c60c&amp;s=<span class="hljs-subst">${queryText}</span>&amp;page=<span class="hljs-subst">${pageParam}</span>`</span>)
      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>()
    },
    <span class="hljs-attr">initialPageParam</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 첫 페이지 번호 초기화!</span>
    <span class="hljs-attr">getNextPageParam</span>: <span class="hljs-function">(<span class="hljs-params">lastPage, pages</span>) =&gt;</span> {
      <span class="hljs-comment">// 한 페이지당 최대 10개까지의 영화 정보를 가져옴!</span>
      <span class="hljs-comment">// 마지막 페이지 번호 계산!</span>
      <span class="hljs-keyword">const</span> maxPage = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">parseInt</span>(pages[<span class="hljs-number">0</span>].<span class="hljs-property">totalResults</span>, <span class="hljs-number">10</span>) / <span class="hljs-number">10</span>)

      <span class="hljs-comment">// 다음 페이지가 있으면, 다음 페이지 번호 반환!</span>
      <span class="hljs-keyword">if</span> (lastPage.<span class="hljs-property">Response</span> === <span class="hljs-string">'True'</span> &amp;&amp; pages.<span class="hljs-property">length</span> &lt; maxPage) {
        <span class="hljs-keyword">return</span> pages.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>
      }
      <span class="hljs-comment">// 다음 페이지가 없으면 undefined | null 반환!</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>
    },
    <span class="hljs-attr">enabled</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 검색어 입력 전까지 대기!</span>
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">5</span> <span class="hljs-comment">// 5분</span>
  })

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// 검색어가 변경될 때마다, 캐시된 데이터가 있어서 그 데이터의 다음 페이지를 가져오지 않도록 이미 캐시된 이전 페이지를 가져옴!</span>
    <span class="hljs-keyword">if</span> (queryText) <span class="hljs-title function_">fetchPreviousPage</span>()
  }, [queryText, fetchPreviousPage])

  <span class="hljs-keyword">const</span> handleSubmit = <span class="hljs-title function_">useCallback</span>(
    <span class="hljs-function">(<span class="hljs-params">e: React.FormEvent</span>) =&gt;</span> {
      e.<span class="hljs-title function_">preventDefault</span>()
      <span class="hljs-comment">// 검색!</span>
      <span class="hljs-keyword">if</span> (searchText.<span class="hljs-title function_">trim</span>()) {
        <span class="hljs-title function_">setQueryText</span>(searchText)
      }
      <span class="hljs-comment">// 초기화!</span>
      <span class="hljs-keyword">if</span> (!searchText.<span class="hljs-title function_">trim</span>()) {
        <span class="hljs-title function_">setSearchText</span>(<span class="hljs-string">''</span>)
        <span class="hljs-title function_">setQueryText</span>(<span class="hljs-string">''</span>)
      }
    },
    [searchText]
  )

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
          <span class="hljs-attr">value</span>=<span class="hljs-string">{searchText}</span>
          <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"영화 제목을 입력하세요."</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setSearchText(e.target.value)}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        {data?.pages.map((page, index) =&gt; (
          // 각 페이지의 출력 최적화를 위해, 페이지 단위 key 속성을 추가!
          <span class="hljs-tag">&lt;<span class="hljs-name">React.Fragment</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>
            {page.Search &amp;&amp;
              page.Search.map(movie =&gt; (
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{movie.imdbID}</span>&gt;</span>{movie.Title}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">React.Fragment</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      {isLoading ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>로딩 중..<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> : null}
      {isFetched &amp;&amp; hasNextPage &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isFetching}</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> fetchNextPage()}&gt;
          {isFetching ? '로딩 중..' : '더 보기!'}
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>위 예제를 무한 스크롤 기능으로 구현하면, 다음과 같이 수정할 수 있습니다.</p>
<p></p><div class="message-box message-box--message-box" style="border-color: #ffc517">
                <div class="message-box__icon" style="color: #ffc517"><span class="material-symbols-outlined">warning</span></div>
                <div class="message-box__contents"><p>TanStack Query 개발자 도구는 별도 창이 아닌 단순히 화면 안의 요소이기 때문에, 무한 스크롤을 화면에서 테스트할 때는 일시적으로 개발자 도구를 닫는 것을 추천합니다.<br>여기서 말하는 개발자 도구는 브라우저의 개발자 도구가 아닙니다!</p>
</div>
              </div><p></p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/MovieList.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-p6dsUzL" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  line--error">L</div><div class="line  ">L</div><div class="line  line--error">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div><div>49</div><div>50</div><div>51</div><div>52</div></div>
<div class="code-wrap"><code id="c-p6dsUzL" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect, useCallback, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useInfiniteQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MovieList</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [searchText, setSearchText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> [queryText, setQueryText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> observerEl = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)

  <span class="hljs-keyword">const</span> {
    data,
    <span class="hljs-comment">// isLoading,</span>
    isFetching,
    <span class="hljs-comment">// isFetched,</span>
    hasNextPage,
    fetchPreviousPage,
    fetchNextPage
  } = useInfiniteQuery&lt;<span class="hljs-title class_">Page</span>&gt;({
    <span class="hljs-comment">// ...</span>
  })

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> currentObserverEl = observerEl.<span class="hljs-property">current</span>
    <span class="hljs-keyword">const</span> io = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function"><span class="hljs-params">entries</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (entries[<span class="hljs-number">0</span>].<span class="hljs-property">isIntersecting</span> &amp;&amp; hasNextPage) {
        <span class="hljs-title function_">fetchNextPage</span>()
      }
    })
    <span class="hljs-keyword">if</span> (currentObserverEl) {
      io.<span class="hljs-title function_">observe</span>(currentObserverEl)
    }
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (currentObserverEl) {
        io.<span class="hljs-title function_">disconnect</span>()
      }
    }
  }, [hasNextPage, fetchNextPage])

  <span class="hljs-comment">// ...</span>

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* ... */}
      {isFetching ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>로딩 중..<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> : null}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">{observerEl}</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> '<span class="hljs-attr">20px</span>' }}
      /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>좀 더 간결한 코드를 원한다면, <a href="https://github.com/thebuilder/react-intersection-observer" target="_blank">react-intersection-observer</a> 라이브러리를 사용할 수 있습니다.<br><code>ref</code> 속성을 관찰 요소와 연결하고, <code>inView</code> 속성을 사용해 요소가 화면에 보이는지 여부를 확인할 수 있습니다.</p>
<p>라이브러리를 설치하고 아래 예제와 같이 수정해 보세요.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--bash">BASH</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-UUrP2aX" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div></div>
<div class="code-wrap"><code id="c-UUrP2aX" class="language-bash hljs">npm i react-intersection-observer</code></div></pre>
            </div>
            <div class="pre-wrap has-path">
              <div class="path">/src/components/MovieList.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-syoHfkY" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  line--error">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div><div>49</div></div>
<div class="code-wrap"><code id="c-syoHfkY" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffec, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useInfiniteQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-keyword">import</span> { useInView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-intersection-observer'</span>

<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MovieList</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [searchText, setSearchText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> [queryText, setQueryText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> { ref, inView } = <span class="hljs-title function_">useInView</span>()

  <span class="hljs-comment">// ...</span>

  <span class="hljs-comment">// useEffect(() =&gt; {</span>
  <span class="hljs-comment">//   const currentObserverEl = observerEl.current</span>
  <span class="hljs-comment">//   const io = new IntersectionObserver(entries =&gt; {</span>
  <span class="hljs-comment">//     if (entries[0].isIntersecting &amp;&amp; hasNextPage) {</span>
  <span class="hljs-comment">//       fetchNextPage()</span>
  <span class="hljs-comment">//     }</span>
  <span class="hljs-comment">//   })</span>
  <span class="hljs-comment">//   if (currentObserverEl) {</span>
  <span class="hljs-comment">//     io.observe(currentObserverEl)</span>
  <span class="hljs-comment">//   }</span>
  <span class="hljs-comment">//   return () =&gt; {</span>
  <span class="hljs-comment">//     if (currentObserverEl) {</span>
  <span class="hljs-comment">//       io.disconnect()</span>
  <span class="hljs-comment">//     }</span>
  <span class="hljs-comment">//   }</span>
  <span class="hljs-comment">// }, [hasNextPage, fetchNextPage])</span>

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (inView &amp;&amp; hasNextPage) {
      <span class="hljs-title function_">fetchNextPage</span>()
    }
  }, [inView, hasNextPage, fetchNextPage])

  <span class="hljs-comment">// ...</span>

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* ... */}
      {isFetching ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>로딩 중..<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> : null}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">{ref}</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> '<span class="hljs-attr">20px</span>' }}
      /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h3 id="h3_useMutation"><a href="https://www.heropy.dev/p/HZaKIE#h3_useMutation"># </a>useMutation</h3>
<p>TanStack Query는 데이터 변경 작업(생성, 수정, 삭제 등)을 위한 <code>useMutation</code> 훅을 제공합니다.<br>이를 통해, 데이터 변경 작업을 처리하고 다양한 성공, 실패, 로딩 등의 상태를 얻을 수 있습니다.<br>그리고 요청 실패 시의 자동 재시도나 낙관적 업데이트 같은 고급 기능도 쉽게 처리할 수 있습니다.</p>
<p>쿼리(<code>useQuery</code>)는 '가져오기'에 집중하는 반면, 변이(<code>useMutation</code>)는 '보내기'에 집중하는 훅으로 이해하면 쉽습니다.</p>
<p></p><div class="message-box message-box--message-box" style="border-color: #3b8eed">
                <div class="message-box__icon" style="color: #3b8eed"><span class="material-symbols-outlined">info</span></div>
                <div class="message-box__contents"><p>낙관적 업데이트(Optimistic Update)는 서버 요청의 응답을 기다리지 않고, 먼저 UI를 업데이트하는 기능을 말합니다.<br>서버 응답이 느린 상황에서도 빠른 인터페이스를 제공할 수 있어 사용자 경험을 크게 향상시킬 수 있습니다.</p>
</div>
              </div><p></p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-ebKz3Rs" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div></div>
<div class="code-wrap"><code id="c-ebKz3Rs" class="language-ts hljs language-typescript"><span class="hljs-keyword">const</span> 반환 = <span class="hljs-title function_">useMutation</span>(옵션)</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h4 id="h4_옵션_21"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%B5%EC%85%98_21"># </a>옵션</h4>
<p><code>useMutation</code> 훅은 다음과 같은 옵션을 제공합니다.<br>다음은 알파벳 순으로 정렬한 목록입니다.</p>
<div class="table-wrap">
            <table>
              <thead><tr>
<th>옵션</th>
<th>설명</th>
<th>기본값</th>
<th>타입</th>
</tr>
</thead>
              <tbody><tr>
<td><code>gcTime</code></td>
<td>비활성 캐시 데이터(Inactive)가 메모리에 남아 있는 시간(ms).</td>
<td></td>
<td><code>number | Infinity</code></td>
</tr>
<tr>
<td><code>meta</code></td>
<td>활용할 추가 정보를 지정.</td>
<td></td>
<td><code>Record&lt;string, unknown&gt;</code></td>
</tr>
<tr>
<td><code>mutationFn</code></td>
<td>실행할 비동기 변이 함수.<br>필수 옵션!</td>
<td></td>
<td><code>(variables: TVariables) =&gt; Promise&lt;TData&gt;</code></td>
</tr>
<tr>
<td><code>mutationKey</code></td>
<td><code>queryClient.setMutationDefaults</code>의 기본값 상속을 위한 키</td>
<td></td>
<td><code>unknown[]</code></td>
</tr>
<tr>
<td><code>networkMode</code></td>
<td>네트워크 모드 지정.</td>
<td><code>'online'</code></td>
<td><code>'online' | 'always' | 'offlineFirst'</code></td>
</tr>
<tr>
<td><code>onError</code></td>
<td>변이 중 오류가 발생할 때 호출되는 함수.</td>
<td></td>
<td><code>(err: TError, variables: TVariables, context?: TContext) =&gt; Promise&lt;unknown&gt; | unknown</code></td>
</tr>
<tr>
<td><code>onMutate</code></td>
<td>변이 함수가 실행되기 전에 호출되는 함수.</td>
<td></td>
<td><code>(variables: TVariables) =&gt; Promise&lt;TContext | void&gt; | TContext | void</code></td>
</tr>
<tr>
<td><code>onSettled</code></td>
<td>변이가 성공하거나 실패해도 항상 호출되는 함수.</td>
<td></td>
<td><code>(data: TData, error: TError, variables: TVariables, context?: TContext) =&gt; Promise&lt;unknown&gt; | unknown</code></td>
</tr>
<tr>
<td><code>onSuccess</code></td>
<td>변이가 성공할 때 호출되는 함수.</td>
<td></td>
<td><code>(data: TData, variables: TVariables, context: TContext) =&gt; Promise&lt;unknown&gt; | unknown</code></td>
</tr>
<tr>
<td><code>queryClient</code></td>
<td>커스텀 쿼리 클라인트 연결.</td>
<td></td>
<td><code>QueryClient</code></td>
</tr>
<tr>
<td><code>retry</code></td>
<td>변이 실패 시 재시도 횟수.</td>
<td><code>0</code></td>
<td><code>boolean | number | (failureCount: number, error: TError) =&gt; boolean</code></td>
</tr>
<tr>
<td><code>retryDelay</code></td>
<td>재시도 시간 간격(ms).</td>
<td></td>
<td><code>number | (retryAttempt: number, error: TError) =&gt; number</code></td>
</tr>
<tr>
<td><code>scope</code></td>
<td>동시 실행 범위 지정.<br>같은 범위 ID를 가진 변이는 병렬이 아닌 직렬로 실행.</td>
<td></td>
<td><code>{ id: string }</code></td>
</tr>
<tr>
<td><code>throwOnError</code></td>
<td>변이 실패 시 오류를 던질지 여부.</td>
<td><code>undefined</code></td>
<td><code>undefined | boolean | (error: TError) =&gt; boolean</code></td>
</tr>

            </tbody></table>
          </div></section>
<section class="hmd-section">
<h4 id="h4_반환_22"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EB%B0%98%ED%99%98_22"># </a>반환</h4>
<p>다음은 알파벳 순으로 정렬한 목록입니다.</p>
<div class="table-wrap">
            <table>
              <thead><tr>
<th>반환 속성</th>
<th>설명</th>
<th>타입</th>
</tr>
</thead>
              <tbody><tr>
<td><code>data</code></td>
<td>성공적으로 가져온 데이터.</td>
<td><code>undefined | unknown</code></td>
</tr>
<tr>
<td><code>error</code></td>
<td>오류가 발생했을 때의 오류 객체.<br>오류가 발생하지 않았다면 null.</td>
<td><code>null | TError</code></td>
</tr>
<tr>
<td><code>failureCount</code></td>
<td>변이의 실패 횟수.<br>변이가 실패할 때마다 증가하고 변이가 성공하면 <code>0</code>으로 재지정.</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>failureReason</code></td>
<td>변이의 재시도 실패 이유.<br>쿼리가 성공하면 null로 재지정.</td>
<td><code>null | TError</code></td>
</tr>
<tr>
<td><code>isError</code></td>
<td>변이 함수에서의 오류 발생 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isIdle</code></td>
<td>변이 함수가 실행되기 전의 초기 상태인지 여부</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isPaused</code></td>
<td>변이 함수가 일시 중단되었는지 여부</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isPending</code></td>
<td>변이 함수가 실행 중인지 여부</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>isSuccess</code></td>
<td>데이터를 성공적으로 가져왔는지 여부.</td>
<td><code>boolean</code></td>
</tr>
<tr>
<td><code>mutate</code></td>
<td>변이 실행 함수</td>
<td><code>(variables: TVariables, { onSuccess, onSettled, onError }) =&gt; void</code></td>
</tr>
<tr>
<td><code>mutateAsync</code></td>
<td>비동기 변이 실행 함수</td>
<td><code>(variables: TVariables, { onSuccess, onSettled, onError }) =&gt; Promise&lt;TData&gt;</code></td>
</tr>
<tr>
<td><code>reset</code></td>
<td>변이 내부 상태를 초기 상태로 재지정.하는 함수</td>
<td><code>() =&gt; void</code></td>
</tr>
<tr>
<td><code>status</code></td>
<td>변이의 현재 상태.<br><code>idle</code>: 초기 상태<br><code>pending</code>: 실행 중<br><code>error</code>: 오류 발생<br><code>success</code>: 성공</td>
<td><code>string</code></td>
</tr>
<tr>
<td><code>submittedAt</code></td>
<td>변이가 제출된 시간(유닉스 타임스탬프).</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>variables</code></td>
<td>변이 실행 함수(<code>mutate</code>)에 전달된 데이터.</td>
<td><code>undefined | TVariables</code></td>
</tr>

            </tbody></table>
          </div></section>
<section class="hmd-section">
<h4 id="h4_예제_23"><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%88%EC%A0%9C_23"># </a>예제</h4>
<p>우선 다음과 같이, 사용자 목록을 가져오는 쿼리(<code>['users']</code>)가 있습니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/Users.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-hLsMbew" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div></div>
<div class="code-wrap"><code id="c-hLsMbew" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Users</span> = <span class="hljs-title class_">User</span>[]
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>
  isValid?: <span class="hljs-built_in">boolean</span>
  emails?: <span class="hljs-built_in">string</span>[]
  photo?: {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
    <span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// Base64</span>
  }
  id?: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Users</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data } = useQuery&lt;<span class="hljs-title class_">Users</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/users'</span>) <span class="hljs-comment">// GET</span>
      <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-keyword">return</span> json.<span class="hljs-property">users</span>
    },
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">5</span> <span class="hljs-comment">// 5분</span>
  })

  <span class="hljs-comment">// ...</span>
}</code></div></pre>
            </div>
            <p>변이는 조회(Read)를 제외한 데이터 생성(Create)이나 수정(Update), 삭제(Delete) 작업을 수행합니다.<br>다음 예제는 입력한 사용자의 이름과 나이로 새로운 사용자를 추가하는 예제입니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/components/AddUser.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-ncUdmU9" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div><div>49</div><div>50</div><div>51</div><div>52</div><div>53</div><div>54</div><div>55</div><div>56</div><div>57</div><div>58</div><div>59</div><div>60</div><div>61</div><div>62</div><div>63</div><div>64</div><div>65</div><div>66</div><div>67</div><div>68</div><div>69</div><div>70</div><div>71</div><div>72</div><div>73</div><div>74</div><div>75</div><div>76</div><div>77</div><div>78</div><div>79</div><div>80</div></div>
<div class="code-wrap"><code id="c-ncUdmU9" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useMutation, useQueryClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">Users</span>, <span class="hljs-title class_">User</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Users'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">AddUser</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> [age, setAge] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>()

  <span class="hljs-keyword">const</span> { mutate, error, isPending, isError } = <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">newUser</span>: <span class="hljs-title class_">User</span>) =&gt; { <span class="hljs-comment">// </span>
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/users'</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(newUser)
      })
      <span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'변이 중 에러 발생!'</span>) <span class="hljs-comment">// 변이 실패!</span>
      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>() <span class="hljs-comment">// 변이 성공!</span>
    },
    <span class="hljs-attr">onMutate</span>: <span class="hljs-keyword">async</span> newUser =&gt; {
      <span class="hljs-comment">// 낙관적 업데이트 전에 사용자 목록 쿼리를 취소해 잠재적인 충돌 방지!</span>
      <span class="hljs-keyword">await</span> queryClient.<span class="hljs-title function_">cancelQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>] })

      <span class="hljs-comment">// 캐시된 데이터(사용자 목록) 가져오기!</span>
      <span class="hljs-keyword">const</span> previousUsers = queryClient.<span class="hljs-property">getQueryData</span>&lt;<span class="hljs-title class_">Users</span>&gt;([<span class="hljs-string">'users'</span>])

      <span class="hljs-comment">// 낙관적 업데이트</span>
      <span class="hljs-keyword">if</span> (previousUsers) {
        queryClient.<span class="hljs-property">setQueryData</span>&lt;<span class="hljs-title class_">Users</span>&gt;([<span class="hljs-string">'users'</span>], [...previousUsers, newUser])
      }

      <span class="hljs-comment">// 각 콜백의 context로 전달할 데이터 반환!</span>
      <span class="hljs-keyword">return</span> { previousUsers }
    },
    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">data, newUser, context</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'onSuccess'</span>, data, newUser, context)
      <span class="hljs-comment">// 변이 성공 시 캐시 무효화로 사용자 목록 데이터 갱신!</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>] })
    },
    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">error, newUser, context</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'onError'</span>, error, newUser, context)
      <span class="hljs-comment">// 변이 실패 시, 낙관적 업데이트 결과를 이전 사용자 목록으로 되돌리기!</span>
      <span class="hljs-keyword">if</span> (context) {
        queryClient.<span class="hljs-title function_">setQueryData</span>([<span class="hljs-string">'users'</span>], context.<span class="hljs-property">previousUsers</span>)
      }
    },
    <span class="hljs-attr">onSettled</span>: <span class="hljs-function">(<span class="hljs-params">data, error, newUser, context</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'onSettled'</span>, data, error, newUser, context)
    },
    <span class="hljs-attr">retry</span>: <span class="hljs-number">3</span>, <span class="hljs-comment">// 변이 실패 시 3번 재시도</span>
    <span class="hljs-attr">retryDelay</span>: <span class="hljs-number">500</span> <span class="hljs-comment">// 0.5초 간격으로 재시도</span>
  })

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">e: React.FormEvent</span>) =&gt; {
    e.<span class="hljs-title function_">preventDefault</span>()
    <span class="hljs-title function_">mutate</span>({ name, age }) <span class="hljs-comment">// 변이!</span>
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setName(e.target.value)}
        placeholder="사용자 이름"
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{age</span> || ''}
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setAge(Number.parseInt(e.target.value, 10))}
        placeholder="사용자 나이"
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>
        <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isPending}</span>&gt;</span>
        {isPending ? '사용자 추가 중..' : '사용자 추가하기!'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {isError &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>에러 발생: {error.message}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            </section>
<section class="hmd-section">
<h2 id="h2_개발자_도구_사용"><a href="https://www.heropy.dev/p/HZaKIE#h2_%EA%B0%9C%EB%B0%9C%EC%9E%90_%EB%8F%84%EA%B5%AC_%EC%82%AC%EC%9A%A9"># </a>개발자 도구 사용</h2>
<p>TanStack Query 전용 개발자 도구를 활용할 수 있습니다.<br>이를 통해 쿼리의 상태나 데이터, 오류, 캐시 등을 쉽게 확인하고 디버깅할 수 있습니다.<br>우선 다음과 같이 개발자 도구 라이브러리를 설치합니다.</p>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--bash">BASH</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-uUmPQYm" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div></div>
<div class="code-wrap"><code id="c-uUmPQYm" class="language-bash hljs">npm i @tanstack/react-query-devtools</code></div></pre>
            </div>
            <p>쿼리 공급자(<code>&lt;QueryClientProvider&gt;</code>) 범위에서 개발자 도구 컴포넌트를 사용하면 됩니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/src/App.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-IIA5acr" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div></div>
<div class="code-wrap"><code id="c-IIA5acr" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">QueryClient</span>,
  <span class="hljs-title class_">QueryClientProvider</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactQueryDevtools</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query-devtools'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">DelayedData</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/DelayedData'</span>

<span class="hljs-keyword">const</span> queryClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryClient</span>()

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryClientProvider</span> <span class="hljs-attr">client</span>=<span class="hljs-string">{queryClient}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DelayedData</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReactQueryDevtools</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryClientProvider</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>이제 개발 서버를 실행하고 브라우저를 확인하면, 다음 이미지와 같이 화면 우측 하단에 TanStack 로고 모양의 개발자 도구 버튼이 나타납니다.</p>
<p><span class="figure">
            <span class="img" style="">
              <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/s4.JPG" alt="TanStack Query" title="TanStack Query" style="background-color: transparent;" onload="this.parentElement.querySelector(&#39;.hmd-loader&#39;)?.remove();this.style.backgroundColor=&#39;transparent&#39;">
              <span data-src="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/s4.JPG" class="zoom material-symbols-outlined">zoom_out_map</span>
              
            </span>
            <span class="figcaption">TanStack Query</span>
          </span></p>
<p>버튼을 누르고 개발자 도구를 열어 사용하거나 도구 우측 상단의 버튼을 선택해 닫을 수도 있습니다.</p>
<p><span class="figure">
            <span class="img" style="">
              <img src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/s5.JPG" alt="TanStack Query 개발자 도구" title="TanStack Query 개발자 도구" style="background-color: transparent;" onload="this.parentElement.querySelector(&#39;.hmd-loader&#39;)?.remove();this.style.backgroundColor=&#39;transparent&#39;">
              <span data-src="https://somwpkzlplaovldnfahk.supabase.co/storage/v1/object/public/heropy.dev_posts/HZaKIE/s5.JPG" class="zoom material-symbols-outlined">zoom_out_map</span>
              
            </span>
            <span class="figcaption">TanStack Query 개발자 도구</span>
          </span></p>
</section>
<section class="hmd-section">
<h2 id="h2_with_Nextjs"><a href="https://www.heropy.dev/p/HZaKIE#h2_with_Nextjs"># </a>with Next.js</h2>
<div class="pre-wrap ">
              

              <div class="lang-name lang-name--bash">BASH</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-F2ONG_L" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div></div>
<div class="code-wrap"><code id="c-F2ONG_L" class="language-bash hljs">npm i @tanstack/react-query-next-experimental</code></div></pre>
            </div>
            <p>다음과 같이 Provider를 구성합니다.<br>서버와 클라이언트 모두에서 사용해야 하므로, <code>'use client'</code>를 사용해야 합니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/providers/query.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-G5xSZ62" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div></div>
<div class="code-wrap"><code id="c-G5xSZ62" class="language-ts hljs language-typescript"><span class="hljs-string">'use client'</span>
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">QueryClient</span>,
  <span class="hljs-title class_">QueryClientProvider</span>,
  isServer,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactQueryStreamedHydration</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query-next-experimental'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">makeQueryClient</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryClient</span>({
    <span class="hljs-attr">defaultOptions</span>: {
      <span class="hljs-attr">queries</span>: {
        <span class="hljs-comment">// 클라이언트의 즉시 다시 요청에 대응하도록, 기본 캐싱 시간(min)을 지정.</span>
        <span class="hljs-attr">staleTime</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>
      }
    }
  })
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">browserQueryClient</span>: <span class="hljs-title class_">QueryClient</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getQueryClient</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">if</span> (isServer) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">makeQueryClient</span>()
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">if</span> (!browserQueryClient) browserQueryClient = <span class="hljs-title function_">makeQueryClient</span>()
    <span class="hljs-keyword">return</span> browserQueryClient
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">QueryProvider</span>(<span class="hljs-params">{ children }: { children: React.ReactNode }</span>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">getQueryClient</span>()
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryClientProvider</span> <span class="hljs-attr">client</span>=<span class="hljs-string">{queryClient}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReactQueryStreamedHydration</span>&gt;</span>
        {children}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ReactQueryStreamedHydration</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryClientProvider</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p>그리고 루트 레이아웃에서 구성한 <code>&lt;QueryProvider&gt;</code>를 사용합니다.</p>
<div class="pre-wrap has-path">
              <div class="path">/app/layout.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-r7X5ivo" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div></div>
<div class="code-wrap"><code id="c-r7X5ivo" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">QueryProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/providers/query'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{
  children
}: Readonly&lt;{
  children: React.ReactNode
}&gt;</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ko"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">QueryProvider</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">QueryProvider</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            <p><code>useSuspenseQuery</code>를 사용하면, 서버 측 렌더링 단계에서 가져오기를 시도합니다.</p>
<p></p><div class="message-box message-box--message-box" style="border-color: #ffc517">
                <div class="message-box__icon" style="color: #ffc517"><span class="material-symbols-outlined">warning</span></div>
                <div class="message-box__contents"><p>Next.js 14버전까지 <code>fetch</code> 함수는 기본적으로 캐싱 기능이 활성화되어 있으므로, <code>cache: 'no-store'</code> 옵션을 사용해야 캐싱 기능을 비활성화할 수 있습니다.<br>Next.js 15버전부터 <code>fetch</code> 함수가 기본적으로 캐싱 기능이 비활성화되어 있으므로, 해당 옵션을 사용하지 않아도 됩니다.</p>
</div>
              </div><p></p>
<div class="pre-wrap has-path">
              <div class="path">/components/DelayedData.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-gVpTInT" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line line--active ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  line--error">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div></div>
<div class="code-wrap"><code id="c-gVpTInT" class="language-ts hljs language-typescript"><span class="hljs-string">'use client'</span>
<span class="hljs-keyword">import</span> { useSuspenseQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ResponseValue</span> = {
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DelayedData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { data } = useSuspenseQuery&lt;<span class="hljs-title class_">ResponseValue</span>&gt;({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'delay'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.heropy.dev/v0/delay?t=1000'</span>, {
        <span class="hljs-comment">// cache: 'no-store'</span>
      })
      <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>()
    },
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">10</span>
  })
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data.time}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></div></pre>
            </div>
            <div class="pre-wrap has-path">
              <div class="path">/app/page.tsx</div>


              <div class="lang-name lang-name--tsx">TSX</div>

              <div class="copy-code material-symbols-outlined" data-clipboard-target="#c-DdwVpqK" title="코드 복사!">content_copy</div>

              <div class="lines"><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div><div class="line  ">L</div></div>

              <pre><div class="line-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div></div>
<div class="code-wrap"><code id="c-DdwVpqK" class="language-ts hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">DelayedData</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/DelayedData'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>loading..<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">DelayedData</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span>
  )
}</code></div></pre>
            </div>
            </section></div></div> <div class="the-like-box-wrapper svelte-1micf0y"><div class="the-like-box svelte-1micf0y" role="presentation"><div class="the-like svelte-1vmd5yg" title="좋아요!는 블로그 운영에 큰 힘이 됩니다!" role="presentation"><svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1vmd5yg" style="position: absolute;"><path d="M32.8859 3.53437C29.0062 2.42734 24.9539 4.67187 23.8469 8.55156L23.268 10.5828C22.8922 11.9031 22.2117 13.1219 21.2875 14.1375L16.0773 19.8656C15.1734 20.8609 15.2445 22.4047 16.2398 23.3086C17.2352 24.2125 18.7789 24.1414 19.6828 23.1461L24.893 17.418C26.325 15.8437 27.3711 13.9648 27.95 11.9234L28.5289 9.89218C28.8945 8.60234 30.2453 7.85078 31.5453 8.2164C32.8453 8.58203 33.5867 9.93281 33.2211 11.2328L32.6422 13.2641C32.0633 15.2852 31.1492 17.1945 29.9406 18.9008C29.4125 19.6422 29.3516 20.6172 29.768 21.4297C30.1844 22.2422 31.0172 22.75 31.9312 22.75H45.5C46.3938 22.75 47.125 23.4812 47.125 24.375C47.125 25.0656 46.6883 25.6648 46.0688 25.8984C45.3172 26.1828 44.7484 26.8125 44.5555 27.5945C44.3625 28.3766 44.5656 29.1992 45.0938 29.7984C45.3477 30.0828 45.5 30.4586 45.5 30.875C45.5 31.6672 44.9313 32.3273 44.1797 32.4695C43.3469 32.632 42.6461 33.2109 42.3516 34.0031C42.057 34.7953 42.1891 35.6992 42.7172 36.3695C42.9305 36.6437 43.0625 36.9891 43.0625 37.375C43.0625 38.0555 42.6359 38.6547 42.0266 38.8883C40.8586 39.3453 40.2289 40.6047 40.5641 41.8133C40.6047 41.9453 40.625 42.0977 40.625 42.25C40.625 43.1437 39.8938 43.875 39 43.875H29.0977C27.818 43.875 26.5586 43.4992 25.4922 42.7883L19.2258 38.6141C18.1086 37.8625 16.5953 38.1672 15.8438 39.2945C15.0922 40.4219 15.3969 41.925 16.5242 42.6766L22.7906 46.8508C24.6594 48.1 26.8531 48.7602 29.0977 48.7602H39C42.5242 48.7602 45.3883 45.957 45.5 42.4633C46.9828 41.275 47.9375 39.4469 47.9375 37.3852C47.9375 36.9281 47.8867 36.4914 47.8055 36.0648C49.3695 34.8766 50.375 32.9977 50.375 30.8852C50.375 30.225 50.2734 29.5852 50.0906 28.9859C51.2688 27.7977 52 26.1727 52 24.375C52 20.7898 49.0953 17.875 45.5 17.875H36.1258C36.6031 16.8187 37.0094 15.7219 37.3242 14.6047L37.9031 12.5734C39.0102 8.69375 36.7656 4.6414 32.8859 3.53437ZM3.25 19.5C1.45234 19.5 0 20.9523 0 22.75V45.5C0 47.2977 1.45234 48.75 3.25 48.75H9.75C11.5477 48.75 13 47.2977 13 45.5V22.75C13 20.9523 11.5477 19.5 9.75 19.5H3.25Z" fill="white" class="svelte-1vmd5yg"></path></svg> <div class="--bottom count svelte-1vmd5yg">69</div></div> <p class="svelte-1micf0y" data-svelte-h="svelte-maaxf0">끝까지 읽어주셔서 감사합니다.<br>
			좋아요와 응원 댓글은 블로그 운영에 큰 힘이 됩니다!</p></div></div> <hr> <div class="comments svelte-1u9llst"> <div class="utterances" style="height: 933px;">
    <iframe class="utterances-frame" title="Comments" scrolling="no" src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/utterances.html" loading="lazy"></iframe>
  </div></div></main> <aside id="__FPSC_ID_1_1741164129909" style=""><div class="post-actions"><div class="the-like svelte-1vmd5yg" title="좋아요!는 블로그 운영에 큰 힘이 됩니다!" role="presentation"><svg viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1vmd5yg" style="position: absolute;"><path d="M32.8859 3.53437C29.0062 2.42734 24.9539 4.67187 23.8469 8.55156L23.268 10.5828C22.8922 11.9031 22.2117 13.1219 21.2875 14.1375L16.0773 19.8656C15.1734 20.8609 15.2445 22.4047 16.2398 23.3086C17.2352 24.2125 18.7789 24.1414 19.6828 23.1461L24.893 17.418C26.325 15.8437 27.3711 13.9648 27.95 11.9234L28.5289 9.89218C28.8945 8.60234 30.2453 7.85078 31.5453 8.2164C32.8453 8.58203 33.5867 9.93281 33.2211 11.2328L32.6422 13.2641C32.0633 15.2852 31.1492 17.1945 29.9406 18.9008C29.4125 19.6422 29.3516 20.6172 29.768 21.4297C30.1844 22.2422 31.0172 22.75 31.9312 22.75H45.5C46.3938 22.75 47.125 23.4812 47.125 24.375C47.125 25.0656 46.6883 25.6648 46.0688 25.8984C45.3172 26.1828 44.7484 26.8125 44.5555 27.5945C44.3625 28.3766 44.5656 29.1992 45.0938 29.7984C45.3477 30.0828 45.5 30.4586 45.5 30.875C45.5 31.6672 44.9313 32.3273 44.1797 32.4695C43.3469 32.632 42.6461 33.2109 42.3516 34.0031C42.057 34.7953 42.1891 35.6992 42.7172 36.3695C42.9305 36.6437 43.0625 36.9891 43.0625 37.375C43.0625 38.0555 42.6359 38.6547 42.0266 38.8883C40.8586 39.3453 40.2289 40.6047 40.5641 41.8133C40.6047 41.9453 40.625 42.0977 40.625 42.25C40.625 43.1437 39.8938 43.875 39 43.875H29.0977C27.818 43.875 26.5586 43.4992 25.4922 42.7883L19.2258 38.6141C18.1086 37.8625 16.5953 38.1672 15.8438 39.2945C15.0922 40.4219 15.3969 41.925 16.5242 42.6766L22.7906 46.8508C24.6594 48.1 26.8531 48.7602 29.0977 48.7602H39C42.5242 48.7602 45.3883 45.957 45.5 42.4633C46.9828 41.275 47.9375 39.4469 47.9375 37.3852C47.9375 36.9281 47.8867 36.4914 47.8055 36.0648C49.3695 34.8766 50.375 32.9977 50.375 30.8852C50.375 30.225 50.2734 29.5852 50.0906 28.9859C51.2688 27.7977 52 26.1727 52 24.375C52 20.7898 49.0953 17.875 45.5 17.875H36.1258C36.6031 16.8187 37.0094 15.7219 37.3242 14.6047L37.9031 12.5734C39.0102 8.69375 36.7656 4.6414 32.8859 3.53437ZM3.25 19.5C1.45234 19.5 0 20.9523 0 22.75V45.5C0 47.2977 1.45234 48.75 3.25 48.75H9.75C11.5477 48.75 13 47.2977 13 45.5V22.75C13 20.9523 11.5477 19.5 9.75 19.5H3.25Z" fill="white" class="svelte-1vmd5yg"></path></svg> <div class="--top count svelte-1vmd5yg">69</div></div> <div role="presentation" title="공유하기(복사)" class="svelte-1effgo"><span class="material-symbols-outlined">share</span></div></div> <div class="post-views"><div class="analytics svelte-16m8rge small"> <div class="chart svelte-16m8rge"><div class="svelte-16m8rge" _echarts_instance_="ec_1741164107358" style="position: relative;"><div style="position: relative; overflow: hidden; width: 190px; height: 40px;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="full" width="190" height="40" style="position: absolute; left: 0px; top: 0px; user-select: none;"><rect width="190" height="40" x="0" y="0" fill="none"></rect><g><g clip-path="url(#zr1-c0)"><path d="M4.5238 22L13.5714 24.4L22.619 6.8L31.6667 27.6L40.7143 15.6L49.7619 30L58.8095 30.4L67.8571 25.6L76.9048 26L85.9524 25.2L95 4.8L104.0476 27.6L113.0952 29.6L122.1429 33.6L131.1905 28L140.2381 27.6L149.2857 29.2L158.3333 23.6L167.381 28.4L176.4286 32.8L185.4762 30.8" fill="transparent" stroke="#eb0000" stroke-width="2" stroke-linejoin="bevel"></path></g><g clip-path="url(#zr1-c1)"><path d="M4.5238 28.8L13.5714 29.6L22.619 30.8L31.6667 26.4L40.7143 30.4L49.7619 32.4L58.8095 28.4L67.8571 28.4L76.9048 27.6L85.9524 30L95 25.6L104.0476 30.8L113.0952 32.8L122.1429 31.2L131.1905 34.4L140.2381 30.4L149.2857 25.6L158.3333 35.2L167.381 34.8L176.4286 33.2L185.4762 30.8" fill="transparent" stroke="#eb000099" stroke-dasharray="4,2" stroke-linejoin="bevel"></path></g><g clip-path="url(#zr1-c2)"><path d="M4.5238 33.6L13.5714 32.8L22.619 30.8L31.6667 30.4L40.7143 30L49.7619 29.6L58.8095 29.2L67.8571 28.4L76.9048 28L85.9524 27.6L95 27.6L104.0476 27.6L113.0952 26L122.1429 25.6L131.1905 25.2L140.2381 24.4L149.2857 23.6L158.3333 22L167.381 15.6L176.4286 6.8L185.4762 4.8" fill="transparent" stroke="#eb000066" stroke-linejoin="bevel"></path></g><path d="M1 0A1 1 0 1 1 1 -0.0001" transform="matrix(5,0,0,5,185.4762,30.8)" fill="#eb0000"></path><path d="M1 0A1 1 0 1 1 1 -0.0001" transform="matrix(10,0,0,10,185.4762,30.8)" fill="#eb000035"></path></g><defs><clippath id="zr1-c0"><path d="M-1 -1l192 0l0 42l-192 0Z" fill="#000"></path></clippath><clippath id="zr1-c1"><path d="M-1 -0.5l192 0l0 41l-192 0Z" fill="#000"></path></clippath><clippath id="zr1-c2"><path d="M-1 -0.5l192 0l0 41l-192 0Z" fill="#000"></path></clippath></defs></svg></div><div class=""></div></div></div></div></div> <div class="post-infos"><div>생성: 2024년 07월 07일</div> <div class="post-updated">수정: 2024년 11월 27일</div> <div>분량: <span id="content-length">36124</span></div></div>  <div class="on-this-page">목차</div> <ul><li data-h-level="2" data-h-id="h2_개요" class=""><a href="https://www.heropy.dev/p/HZaKIE#h2_%EA%B0%9C%EC%9A%94">개요</a> </li><li data-h-level="3" data-h-id="h3_데이터_캐싱" class="active"><a href="https://www.heropy.dev/p/HZaKIE#h3_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%BA%90%EC%8B%B1">데이터 캐싱</a> </li><li data-h-level="3" data-h-id="h3_데이터의_신선도" class=""><a href="https://www.heropy.dev/p/HZaKIE#h3_%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98_%EC%8B%A0%EC%84%A0%EB%8F%84">데이터의 신선도</a> </li><li data-h-level="2" data-h-id="h2_설치_및_구성" class=""><a href="https://www.heropy.dev/p/HZaKIE#h2_%EC%84%A4%EC%B9%98_%EB%B0%8F_%EA%B5%AC%EC%84%B1">설치 및 구성</a> </li><li data-h-level="2" data-h-id="h2_핵심_기능" class=""><a href="https://www.heropy.dev/p/HZaKIE#h2_%ED%95%B5%EC%8B%AC_%EA%B8%B0%EB%8A%A5">핵심 기능</a> </li><li data-h-level="3" data-h-id="h3_useQuery" class=""><a href="https://www.heropy.dev/p/HZaKIE#h3_useQuery">useQuery</a> </li><li data-h-level="4" data-h-id="h4_옵션" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%B5%EC%85%98">옵션</a> </li><li data-h-level="5" data-h-id="h5_queryKey" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_queryKey">queryKey</a> </li><li data-h-level="5" data-h-id="h5_queryFn" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_queryFn">queryFn</a> </li><li data-h-level="5" data-h-id="h5_select" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_select">select</a> </li><li data-h-level="5" data-h-id="h5_placeholderData" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_placeholderData">placeholderData</a> </li><li data-h-level="5" data-h-id="h5_structuralSharing" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_structuralSharing">structuralSharing</a> </li><li data-h-level="5" data-h-id="h5_meta" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_meta">meta</a> </li><li data-h-level="4" data-h-id="h4_반환" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EB%B0%98%ED%99%98">반환</a> </li><li data-h-level="5" data-h-id="h5_상태_확인" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_%EC%83%81%ED%83%9C_%ED%99%95%EC%9D%B8">상태 확인</a> </li><li data-h-level="5" data-h-id="h5_다시_가져오기" class=""><a href="https://www.heropy.dev/p/HZaKIE#h5_%EB%8B%A4%EC%8B%9C_%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0">다시 가져오기</a> </li><li data-h-level="3" data-h-id="h3_useInfiniteQuery" class=""><a href="https://www.heropy.dev/p/HZaKIE#h3_useInfiniteQuery">useInfiniteQuery</a> </li><li data-h-level="4" data-h-id="h4_옵션_17" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%B5%EC%85%98_17">옵션</a> </li><li data-h-level="4" data-h-id="h4_반환_18" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EB%B0%98%ED%99%98_18">반환</a> </li><li data-h-level="4" data-h-id="h4_예제" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%88%EC%A0%9C">예제</a> </li><li data-h-level="3" data-h-id="h3_useMutation" class=""><a href="https://www.heropy.dev/p/HZaKIE#h3_useMutation">useMutation</a> </li><li data-h-level="4" data-h-id="h4_옵션_21" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%B5%EC%85%98_21">옵션</a> </li><li data-h-level="4" data-h-id="h4_반환_22" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EB%B0%98%ED%99%98_22">반환</a> </li><li data-h-level="4" data-h-id="h4_예제_23" class=""><a href="https://www.heropy.dev/p/HZaKIE#h4_%EC%98%88%EC%A0%9C_23">예제</a> </li><li data-h-level="2" data-h-id="h2_개발자_도구_사용" class=""><a href="https://www.heropy.dev/p/HZaKIE#h2_%EA%B0%9C%EB%B0%9C%EC%9E%90_%EB%8F%84%EA%B5%AC_%EC%82%AC%EC%9A%A9">개발자 도구 사용</a> </li><li data-h-level="2" data-h-id="h2_with_Nextjs" class=""><a href="https://www.heropy.dev/p/HZaKIE#h2_with_Nextjs">with Next.js</a> </li></ul></aside> <div class="aside-bg" role="presentation"></div> <div class="aside-toggler" role="presentation" data-svelte-h="svelte-11ntv6p"><span class="material-symbols-outlined">segment</span></div></div> <div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0px; top: 0px; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px;"></div></div>
	

<iframe allow="join-ad-interest-group" data-tagging-id="G-LN1R194MK8" data-load-time="1741164108099" height="0" width="0" src="./TanStack Query(React Query) 핵심 정리 _ HEROPY.DEV_files/rul.html" style="display: none; visibility: hidden;"></iframe><div id="hmd-zoom-modals">
      <div class="zoom-modal zoom-modal--HZaKIE">
        <div class="zoom-modal__bg"></div>
        <div class="zoom-modal__content">
          <div class="zoom-container" style="display: flex; justify-content: center; align-items: center; overflow: hidden; touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
            <img src="https://www.heropy.dev/p/HZaKIE" loading="lazy" decoding="async">
            <div class="hmd-loader" style="
              --hloader-color: white;
              --hloader-size: 100px;
              --hloader-weight: 8px;
              --hloader-duration: 1s;
              position: absolute;
              top: 0;
              bottom: 0;
              left: 0;
              right: 0;
              margin: auto;
              display: none;
            "></div>
          </div>
          <div class="__actions">
            <div class="__action --zoom-exit" title="Zoom Exit">
              <span class="material-symbols-outlined">close</span>
            </div>
            <div class="__action --zoom-in" title="Zoom In">
              <span class="material-symbols-outlined">zoom_in</span>
            </div>
            <div class="__action --zoom-out" title="Zoom Out">
              <span class="material-symbols-outlined">zoom_out</span>
            </div>
            <div class="__action --zoom-reset" title="Zoom Reset">
              <span class="material-symbols-outlined">restart_alt</span>
            </div>
          </div>
        </div>
      </div>
    </div></body></html>